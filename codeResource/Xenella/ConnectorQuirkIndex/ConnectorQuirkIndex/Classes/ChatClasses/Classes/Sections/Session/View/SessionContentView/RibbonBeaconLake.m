
#import <Foundation/Foundation.h>
typedef struct {
    Byte necessarilyMagnitude;
    Byte *butter;
    unsigned int raidPainting;
    Byte march;
	int surprisingUnctionAllegation;
	int your;
	int rutPromising;
} RepresentativeData;

NSString *StringFromRepresentativeData(RepresentativeData *data);


//: icon_receiver_voice_playing_004
RepresentativeData featureSeemCessConfig = (RepresentativeData){232, (Byte []){129, 139, 135, 134, 183, 154, 141, 139, 141, 129, 158, 141, 154, 183, 158, 135, 129, 139, 141, 183, 152, 132, 137, 145, 129, 134, 143, 183, 216, 216, 220, 68}, 31, 163, 195, 149, 221};

//: icon_receiver_voice_playing_005
RepresentativeData layoutCurValue = (RepresentativeData){165, (Byte []){204, 198, 202, 203, 250, 215, 192, 198, 192, 204, 211, 192, 215, 250, 211, 202, 204, 198, 192, 250, 213, 201, 196, 220, 204, 203, 194, 250, 149, 149, 144, 243}, 31, 157, 199, 26, 180};

//: icon_receiver_voice_playing_006
RepresentativeData commonPositionId = (RepresentativeData){58, (Byte []){83, 89, 85, 84, 101, 72, 95, 89, 95, 83, 76, 95, 72, 101, 76, 85, 83, 89, 95, 101, 74, 86, 91, 67, 83, 84, 93, 101, 10, 10, 12, 252}, 31, 177, 172, 102, 231};

//: icon_receiver_voice_playing_001
RepresentativeData moduleFrameSettings = (RepresentativeData){6, (Byte []){111, 101, 105, 104, 89, 116, 99, 101, 99, 111, 112, 99, 116, 89, 112, 105, 111, 101, 99, 89, 118, 106, 103, 127, 111, 104, 97, 89, 54, 54, 55, 73}, 31, 153, 140, 252, 15};

//: icon_voice_plus_b
RepresentativeData kCopterKey = (RepresentativeData){110, (Byte []){7, 13, 1, 0, 49, 24, 1, 7, 13, 11, 49, 30, 2, 27, 29, 49, 12, 249}, 17, 154, 187, 90, 137};

//: icon_receiver_voice_playing_003
RepresentativeData k_minuteEntryHelper = (RepresentativeData){145, (Byte []){248, 242, 254, 255, 206, 227, 244, 242, 244, 248, 231, 244, 227, 206, 231, 254, 248, 242, 244, 206, 225, 253, 240, 232, 248, 255, 246, 206, 161, 161, 162, 25}, 31, 238, 122, 189, 13};

//: icon_receiver_voice_playing_008
RepresentativeData screenFacilityName = (RepresentativeData){255, (Byte []){150, 156, 144, 145, 160, 141, 154, 156, 154, 150, 137, 154, 141, 160, 137, 144, 150, 156, 154, 160, 143, 147, 158, 134, 150, 145, 152, 160, 207, 207, 199, 115}, 31, 197, 98, 119, 33};

//: icon_receiver_voice_playing_002
RepresentativeData kBulkConfig = (RepresentativeData){51, (Byte []){90, 80, 92, 93, 108, 65, 86, 80, 86, 90, 69, 86, 65, 108, 69, 92, 90, 80, 86, 108, 67, 95, 82, 74, 90, 93, 84, 108, 3, 3, 1, 158}, 31, 250, 183, 170, 21};

//: icon_receiver_voice_playing_009
RepresentativeData stylePleasantText = (RepresentativeData){48, (Byte []){89, 83, 95, 94, 111, 66, 85, 83, 85, 89, 70, 85, 66, 111, 70, 95, 89, 83, 85, 111, 64, 92, 81, 73, 89, 94, 87, 111, 0, 0, 9, 49}, 31, 154, 239, 252, 1};

//: icon_receiver_voice_playing_w
RepresentativeData spacingThouBulletPage = (RepresentativeData){186, (Byte []){211, 217, 213, 212, 229, 200, 223, 217, 223, 211, 204, 223, 200, 229, 204, 213, 211, 217, 223, 229, 202, 214, 219, 195, 211, 212, 221, 229, 205, 134}, 29, 211, 137, 253, 231};

//: icon_receiver_voice_playing_010
RepresentativeData modulePianoData = (RepresentativeData){64, (Byte []){41, 35, 47, 46, 31, 50, 37, 35, 37, 41, 54, 37, 50, 31, 54, 47, 41, 35, 37, 31, 48, 44, 33, 57, 41, 46, 39, 31, 112, 113, 112, 183}, 31, 217, 197, 69, 120};

//: icon_receiver_voice_playing
RepresentativeData widgetPossePath = (RepresentativeData){63, (Byte []){86, 92, 80, 81, 96, 77, 90, 92, 90, 86, 73, 90, 77, 96, 73, 80, 86, 92, 90, 96, 79, 83, 94, 70, 86, 81, 88, 98}, 27, 186, 103, 123, 28};

//: icon_receiver_voice_playing_007
RepresentativeData k_okayExternalTitle = (RepresentativeData){191, (Byte []){214, 220, 208, 209, 224, 205, 218, 220, 218, 214, 201, 218, 205, 224, 201, 208, 214, 220, 218, 224, 207, 211, 222, 198, 214, 209, 216, 224, 143, 143, 136, 15}, 31, 241, 29, 224, 76};

//: icon_voice_play_b
RepresentativeData componentGolfTimer = (RepresentativeData){194, (Byte []){171, 161, 173, 172, 157, 180, 173, 171, 161, 167, 157, 178, 174, 163, 187, 157, 160, 9}, 17, 194, 239, 198, 62};

//: FFFKitEventNameTapAudio
RepresentativeData appForgeEvent = (RepresentativeData){175, (Byte []){233, 233, 233, 228, 198, 219, 234, 217, 202, 193, 219, 225, 206, 194, 202, 251, 206, 223, 238, 218, 203, 198, 192, 78}, 23, 243, 34, 207, 89};

// __DEBUG__
// __CLOSE_PRINT__
//
//  SessionAudioCententView.m
//  NIMDemo
//
//  Created by chris.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "RibbonBeaconLake.h"
#import "RibbonBeaconLake.h"
//: #import "YieldPipelineGranularFancy.h"
#import "YieldPipelineGranularFancy.h"
//: #import "MysticSnowColorfulComposer.h"
#import "MysticSnowColorfulComposer.h"
//: #import "UIImage+ParseByBreakPerform.h"
#import "UIImage+ParseByBreakPerform.h"
//: #import "BeneathEstuaryAtlasStrategy.h"
#import "BeneathEstuaryAtlasStrategy.h"
//: #import "ParseByBreakPerform.h"
#import "ParseByBreakPerform.h"
//: #import "UIColor+ParseByBreakPerform.h"
#import "UIColor+ParseByBreakPerform.h"

//: @interface RibbonBeaconLake()<NIMMediaManagerDelegate>
@interface RibbonBeaconLake()<NIMMediaManagerDelegate>

//: @property (nonatomic,strong) UILabel *durationLabel;
@property (nonatomic,strong) UILabel *durationLabel;
@property (nonatomic,strong) UIImageView *voiceImageView;
//: @property (nonatomic,strong) UIImageView *voicePlayViewleft;
@property (nonatomic,strong) UIImageView *voicePlayViewleft;

//: @property (nonatomic,strong) UIImageView *voiceImageView;
@property (nonatomic,strong) UIImageView *notice;
//: @property (nonatomic,strong) UIImageView *voiceImageViewleft;
@property (nonatomic,strong) UIImageView *voiceImageViewleft;

//: @property (nonatomic,strong) UIImageView *voicePlayView;
@property (nonatomic,strong) UIImageView *voicePlayView;

//: @end
@end

//: @implementation RibbonBeaconLake
@implementation RibbonBeaconLake

//- (NSString *)convertToTimeStringWithTimeInterval:(NSTimeInterval)timeInterval{
//    NSDate *date = [NSDate dateWithTimeIntervalSince1970:timeInterval];
//    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
//    [dateFormatter setDateFormat:@"HH:mm"];
//    NSString *dateStsring = [dateFormatter stringFromDate:date];
//    return dateStsring;
//}

//: @end

- (void)setNotice:(UIImageView *)notice {
    //: OC_CUSTOM_PROPERTY_INJECT
    _notice = notice;
}

//: #pragma mark - private methods
#pragma mark - private methods
//: - (void)stopPlayingUI
- (void)prefer
{
    //: [self setPlaying:NO];
    [self setYoung:NO];
}

//: - (BOOL)isPlaying
- (BOOL)boardPlaying
{
    //: BOOL play = [BeneathEstuaryAtlasStrategy instance].currentPlayingMessage == self.model.message; 
    BOOL play = [BeneathEstuaryAtlasStrategy dot].currentPlayingMessage == self.publishColorfulComposer.across; //对比是否是同一条消息，严格同一条，不能是相同ID，防止进了会话又进云端消息界面，导致同一个ID的云消息也在动画
    //: return play;
    return play;
}

//: - (void)stopPlayAudio:(NSString *)filePath didCompletedWithError:(nullable NSError *)error
- (void)stopPlayAudio:(NSString *)filePath didCompletedWithError:(nullable NSError *)error
{
    //: [self stopPlayingUI];
    [self prefer];
}

- (UIImageView *)travelKit:(UIImageView *)notice {
    //: OC_CUSTOM_PROPERTY_INJECT
    _notice = notice;
    return notice;
}

//: - (void)addVoiceView{
- (void)militaryQuarters{
    //: _audioBackgroundView = [[UIView alloc] initWithFrame:CGRectZero];
    _audioBackgroundView = [[UIView alloc] initWithFrame:CGRectZero];
    //: _audioBackgroundView.layer.cornerRadius = 16.f;
    _audioBackgroundView.layer.cornerRadius = 16.f;
    //: _audioBackgroundView.userInteractionEnabled = NO;
    _audioBackgroundView.userInteractionEnabled = NO;
    //: [self addSubview:_audioBackgroundView];
    [self addSubview:_audioBackgroundView];


    //: _voicePlayViewleft = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"icon_voice_play_b"]];
    _voicePlayViewleft = [[UIImageView alloc]initWithImage:[UIImage imageNamed:StringFromRepresentativeData(&componentGolfTimer)]];
    //: [self addSubview:_voicePlayViewleft];
    [self addSubview:_voicePlayViewleft];
    //: _voicePlayViewleft.hidden = YES;
    _voicePlayViewleft.hidden = YES;
    //: _voicePlayView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"icon_voice_play_b"]];
    _voicePlayView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:StringFromRepresentativeData(&componentGolfTimer)]];
    //: [self addSubview:_voicePlayView];
    [self addSubview:_voicePlayView];
    //: _voicePlayView.hidden = YES;
    _voicePlayView.hidden = YES;

    //: UIImage *image = [UIImage imageNamed:@"icon_receiver_voice_playing_w"];
    UIImage *image = [UIImage imageNamed:StringFromRepresentativeData(&spacingThouBulletPage)];
    //: _voiceImageView = [[UIImageView alloc] initWithImage:image];
    _voiceImageView = [[UIImageView alloc] initWithImage:image];
    //: NSArray *animateNames = @[@"icon_receiver_voice_playing_001",@"icon_receiver_voice_playing_002",@"icon_receiver_voice_playing_003",@"icon_receiver_voice_playing_004",@"icon_receiver_voice_playing_005",@"icon_receiver_voice_playing_006",@"icon_receiver_voice_playing_007",@"icon_receiver_voice_playing_008",@"icon_receiver_voice_playing_009",@"icon_receiver_voice_playing_010"];
    NSArray *animateNames = @[StringFromRepresentativeData(&moduleFrameSettings),StringFromRepresentativeData(&kBulkConfig),StringFromRepresentativeData(&k_minuteEntryHelper),StringFromRepresentativeData(&featureSeemCessConfig),StringFromRepresentativeData(&layoutCurValue),StringFromRepresentativeData(&commonPositionId),StringFromRepresentativeData(&k_okayExternalTitle),StringFromRepresentativeData(&screenFacilityName),StringFromRepresentativeData(&stylePleasantText),StringFromRepresentativeData(&modulePianoData)];
    //: NSMutableArray * animationImages = [[NSMutableArray alloc] initWithCapacity:animateNames.count];
    NSMutableArray * animationImages = [[NSMutableArray alloc] initWithCapacity:animateNames.count];
    //: for (NSString * animateName in animateNames) {
    for (NSString * animateName in animateNames) {
        //: UIImage * animateImage = [UIImage imageNamed:animateName];
        UIImage * animateImage = [UIImage imageNamed:animateName];
        //: [animationImages addObject:animateImage];
        [animationImages addObject:animateImage];
    }
    //: _voiceImageView.animationImages = animationImages;
    [self travelKit:_voiceImageView].animationImages = animationImages;
    //: _voiceImageView.animationDuration = 1.0;
    _voiceImageView.animationDuration = 1.0;
    //: [self addSubview:_voiceImageView];
    [self addSubview:[self travelKit:_voiceImageView]];
    //: _voiceImageView.hidden = YES;
    _voiceImageView.hidden = YES;

    //: _voiceImageViewleft = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"icon_receiver_voice_playing"]];
    _voiceImageViewleft = [[UIImageView alloc] initWithImage:[UIImage imageNamed:StringFromRepresentativeData(&widgetPossePath)]];
    //: NSArray *animateNames2 = @[@"icon_receiver_voice_playing_001",@"icon_receiver_voice_playing_002",@"icon_receiver_voice_playing_003",@"icon_receiver_voice_playing_004",@"icon_receiver_voice_playing_005",@"icon_receiver_voice_playing_006",@"icon_receiver_voice_playing_007",@"icon_receiver_voice_playing_008",@"icon_receiver_voice_playing_009",@"icon_receiver_voice_playing_010"];
    NSArray *animateNames2 = @[StringFromRepresentativeData(&moduleFrameSettings),StringFromRepresentativeData(&kBulkConfig),StringFromRepresentativeData(&k_minuteEntryHelper),StringFromRepresentativeData(&featureSeemCessConfig),StringFromRepresentativeData(&layoutCurValue),StringFromRepresentativeData(&commonPositionId),StringFromRepresentativeData(&k_okayExternalTitle),StringFromRepresentativeData(&screenFacilityName),StringFromRepresentativeData(&stylePleasantText),StringFromRepresentativeData(&modulePianoData)];
    //: NSMutableArray *animationImages2 = [[NSMutableArray alloc] initWithCapacity:animateNames2.count];
    NSMutableArray *animationImages2 = [[NSMutableArray alloc] initWithCapacity:animateNames2.count];
    //: for (NSString *animateName2 in animateNames2) {
    for (NSString *animateName2 in animateNames2) {
        //: UIImage *animateImage2 = [UIImage imageNamed:animateName2];
        UIImage *animateImage2 = [UIImage imageNamed:animateName2];
        //: [animationImages2 addObject:animateImage2];
        [animationImages2 addObject:animateImage2];
    }
    //: _voiceImageViewleft.animationImages = animationImages2;
    _voiceImageViewleft.animationImages = animationImages2;
    //: _voiceImageViewleft.animationDuration = 1.0;
    _voiceImageViewleft.animationDuration = 1.0;
    //: [self addSubview:_voiceImageViewleft];
    [self addSubview:_voiceImageViewleft];
    //: _voiceImageViewleft.hidden = YES;
    _voiceImageViewleft.hidden = YES;

    //: _durationLabel = [[UILabel alloc] initWithFrame:CGRectZero];
    _durationLabel = [[UILabel alloc] initWithFrame:CGRectZero];
    //: _durationLabel.backgroundColor = [UIColor clearColor];
    _durationLabel.backgroundColor = [UIColor clearColor];
    //: [self addSubview:_durationLabel];
    [self addSubview:_durationLabel];

}

//: -(instancetype)initSessionMessageContentView{
-(instancetype)initFinish{
    //: self = [super initSessionMessageContentView];
    self = [super initFinish];
	[self setNotice:_voiceImageView];
    //: if (self) {
    if (self) {
        //: [self addVoiceView];
        [self militaryQuarters];
        //: [[NIMSDK sharedSDK].mediaManager addDelegate:self];
        [[NIMSDK sharedSDK].mediaManager addDelegate:self];
    }
    //: return self;
    return self;
}

//: - (void)setPlaying:(BOOL)isPlaying
- (void)setYoung:(BOOL)isPlaying
{
    //: if (isPlaying) {
    if (isPlaying) {
        //: [self.voiceImageView startAnimating];
        [self.voiceImageView startAnimating];
        //: [self.voiceImageViewleft startAnimating];
        [self.voiceImageViewleft startAnimating];
        //: _voicePlayViewleft.image = [UIImage imageNamed:@"icon_voice_plus_b"];
        _voicePlayViewleft.image = [UIImage imageNamed:StringFromRepresentativeData(&kCopterKey)];
//        _voicePlayView.image = [UIImage imageNamed:@"icon_voice_plus_w"];
        //: _voicePlayView.image = [UIImage imageNamed:@"icon_voice_plus_b"];
        _voicePlayView.image = [UIImage imageNamed:StringFromRepresentativeData(&kCopterKey)];
    //: }else{
    }else{
        //: [self.voiceImageView stopAnimating];
        [[self travelKit:self.voiceImageView] stopAnimating];
        //: [self.voiceImageViewleft stopAnimating];
        [self.voiceImageViewleft stopAnimating];
        //: _voicePlayViewleft.image = [UIImage imageNamed:@"icon_voice_play_b"];
        _voicePlayViewleft.image = [UIImage imageNamed:StringFromRepresentativeData(&componentGolfTimer)];
//        _voicePlayView.image = [UIImage imageNamed:@"icon_voice_play_w"];
        //: _voicePlayView.image = [UIImage imageNamed:@"icon_voice_play_b"];
        _voicePlayView.image = [UIImage imageNamed:StringFromRepresentativeData(&componentGolfTimer)];
    }
}

//: - (void)layoutSubviews{
- (void)layoutSubviews{
    //: [super layoutSubviews];
    [super layoutSubviews];
    //: UIEdgeInsets contentInsets = self.model.contentViewInsets;
    UIEdgeInsets contentInsets = self.publishColorfulComposer.ultimate;
    //: switch (self.layoutStyle) {
    switch (self.common) {
        //: case AgainstLoopForcefulLayoutLeft: {
        case AgainstLoopForcefulLayoutLeft: {
//            _voiceImageView.transform = CGAffineTransformIdentity;
//            self.voiceImageView.left = contentInsets.left * 2;
            //: self.voiceImageViewleft.left = contentInsets.left * 2;
            self.voiceImageViewleft.list = contentInsets.left * 2;
             //: _durationLabel.right = self.width - contentInsets.right * 2;
             _durationLabel.dark = self.take - contentInsets.right * 2;
            //: break;
            break;
        }
        //: case AgainstLoopForcefulLayoutRight: {
        case AgainstLoopForcefulLayoutRight: {
//            _voiceImageView.transform = CGAffineTransformMakeRotation(M_PI);
            //: self.voiceImageView.right = self.width - contentInsets.right * 2;
            self.voiceImageView.dark = self.take - contentInsets.right * 2;
            //: _durationLabel.left = contentInsets.left;
            _durationLabel.list = contentInsets.left;
            //: break;
            break;
        }
        //: case AgainstLoopForcefulLayoutAuto:
        case AgainstLoopForcefulLayoutAuto:
        //: default:
        default:
        {
            //: if (self.model.message.isOutgoingMsg) {
            if (self.publishColorfulComposer.across.isOutgoingMsg) {
//                _voiceImageView.transform = CGAffineTransformMakeRotation(M_PI);


                //: self.voicePlayView.left = contentInsets.left;
                self.voicePlayView.list = contentInsets.left;
                //: self.voiceImageView.left = self.voicePlayView.right+10;
                [self travelKit:self.voiceImageView].list = self.voicePlayView.dark+10;
                //: _durationLabel.left = self.voiceImageView.right+10;
                _durationLabel.list = [self travelKit:self.voiceImageView].dark+10;

            //: } else {
            } else {
//                _voiceImageView.transform = CGAffineTransformIdentity;
//               self.voiceImageView.left = contentInsets.left;

                //: self.voicePlayViewleft.left = contentInsets.left;
                self.voicePlayViewleft.list = contentInsets.left;
                //: self.voiceImageViewleft.left = self.voicePlayViewleft.right+10;
                self.voiceImageViewleft.list = self.voicePlayViewleft.dark+10;
                //: _durationLabel.left = self.voiceImageViewleft.right+10;
                _durationLabel.list = self.voiceImageViewleft.dark+10;
            }
            //: break;
            break;
        }
    }
    //: _voiceImageView.width = 62;
    [self travelKit:_voiceImageView].take = 62;
    //: _voiceImageView.height = 18;
    _voiceImageView.transfer = 18;
    //: _voiceImageView.centerY = self.height * .5f;
    _voiceImageView.special = self.transfer * .5f;

    //: _voiceImageViewleft.width = 62;
    _voiceImageViewleft.take = 62;
    //: _voiceImageViewleft.height = 18;
    _voiceImageViewleft.transfer = 18;
    //: _voiceImageViewleft.centerY = self.height * .5f;
    _voiceImageViewleft.special = self.transfer * .5f;

    //: _voicePlayView.width = 16;
    _voicePlayView.take = 16;
    //: _voicePlayView.height = 16;
    _voicePlayView.transfer = 16;
    //: _voicePlayView.centerY = self.height * .5f;
    _voicePlayView.special = self.transfer * .5f;

    //: _voicePlayViewleft.width = 16;
    _voicePlayViewleft.take = 16;
    //: _voicePlayViewleft.height = 16;
    _voicePlayViewleft.transfer = 16;
    //: _voicePlayViewleft.centerY = self.height * .5f;
    _voicePlayViewleft.special = self.transfer * .5f;

    //: _durationLabel.centerY = _voiceImageView.centerY;
    _durationLabel.special = [self travelKit:_voiceImageView].special;

    //: CGFloat backgroundWidth = 0;
    CGFloat backgroundWidth = 0;
    //: CGFloat backgroundLeft = 0;
    CGFloat backgroundLeft = 0;
    //: switch (self.layoutStyle) {
    switch (self.common) {
        //: case AgainstLoopForcefulLayoutLeft:
        case AgainstLoopForcefulLayoutLeft:
            {
                //: backgroundWidth = self.width - contentInsets.left * .5f - 2;
                backgroundWidth = self.take - contentInsets.left * .5f - 2;
                //: backgroundLeft = contentInsets.left * .5f;
                backgroundLeft = contentInsets.left * .5f;
            }
            //: break;
            break;
        //: case AgainstLoopForcefulLayoutRight:
        case AgainstLoopForcefulLayoutRight:
            {
                //: backgroundWidth = self.width - 2 - contentInsets.right * .5f;
                backgroundWidth = self.take - 2 - contentInsets.right * .5f;
                //: backgroundLeft = 2;
                backgroundLeft = 2;
            }
            //: break;
            break;
        //: default:
        default:
        {
            //: if (self.model.message.isOutgoingMsg) {
            if (self.publishColorfulComposer.across.isOutgoingMsg) {
                //: backgroundWidth = self.width - 2 - contentInsets.right * .5f;
                backgroundWidth = self.take - 2 - contentInsets.right * .5f;
                //: backgroundLeft = 2;
                backgroundLeft = 2;
            //: } else {
            } else {
                //: backgroundWidth = self.width - contentInsets.left * .5f - 2;
                backgroundWidth = self.take - contentInsets.left * .5f - 2;
                //: backgroundLeft = contentInsets.left * .5f;
                backgroundLeft = contentInsets.left * .5f;
            }
            //: break;
            break;
        }
    }
    //: _audioBackgroundView.size = CGSizeMake(backgroundWidth,
    _audioBackgroundView.nowadays = CGSizeMake(backgroundWidth,
                                               //: self.height - 4);
                                               self.transfer - 4);
    //: _audioBackgroundView.left = backgroundLeft;
    _audioBackgroundView.list = backgroundLeft;
    //: _audioBackgroundView.top = 2;
    _audioBackgroundView.exist = 2;
}

//: - (void)refresh:(MysticSnowColorfulComposer *)data {
- (void)cycle:(MysticSnowColorfulComposer *)data {
    //: [super refresh:data];
    [super cycle:data];
    //: NIMAudioObject *object = self.model.message.messageObject;
    NIMAudioObject *object = self.publishColorfulComposer.across.messageObject;
    //: self.durationLabel.text = [NSString stringWithFormat:@"%zd\"",(NSInteger)((object.duration+500)/1000)];
    self.durationLabel.text = [NSString stringWithFormat:@"%zd\"",(NSInteger)((object.duration+500)/1000)];//四舍五入

    //: LaneAlongsideMultiplyFont *setting = [[ParseByBreakPerform sharedKit].config setting:data.message];
    LaneAlongsideMultiplyFont *setting = [[ParseByBreakPerform unit].safely screenMemory:data.across];

    //: self.durationLabel.font = setting.font;
    self.durationLabel.font = setting.kitFont;
	[self setNotice:_voiceImageView];
    //: self.durationLabel.textColor = setting.textColor;
    self.durationLabel.textColor = setting.endless;
	[self setNotice:_voiceImageView];
    //: [self.durationLabel sizeToFit];
    [self.durationLabel sizeToFit];

    //: [self setPlaying:self.isPlaying];
    [self setYoung:self.boardPlaying];
    //: [self refreshBackground:data];
    [self acceptable:data];
}

//: - (void)playAudio:(NSString *)filePath didCompletedWithError:(NSError *)error
- (void)playAudio:(NSString *)filePath didCompletedWithError:(NSError *)error
{
    //: [self stopPlayingUI];
    [self prefer];
}

//: - (void)dealloc
- (void)dealloc
{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
    //: [[NIMSDK sharedSDK].mediaManager removeDelegate:self];
    [[NIMSDK sharedSDK].mediaManager removeDelegate:self];
}

//: #pragma mark - NIMMediaManagerDelegate
#pragma mark - NIMMediaManagerDelegate

//: - (void)playAudio:(NSString *)filePath didBeganWithError:(NSError *)error {
- (void)playAudio:(NSString *)filePath didBeganWithError:(NSError *)error {
    //: if(filePath && !error) {
    if(filePath && !error) {
        //: if (self.isPlaying && [self.audioUIDelegate respondsToSelector:@selector(startPlayingAudioUI)]) {
        if (self.boardPlaying && [self.audioUIDelegate respondsToSelector:@selector(fishingStand)]) {
            //: [self.audioUIDelegate startPlayingAudioUI];
            [self.audioUIDelegate fishingStand];
        }
    }
}


//: - (void)refreshBackground:(MysticSnowColorfulComposer *)data
- (void)acceptable:(MysticSnowColorfulComposer *)data
{
    //: if (data.shouldShowLeft)
    if (data.safelyProjectLeft)
    {
        //: _voiceImageViewleft.hidden = NO;
        _voiceImageViewleft.hidden = NO;
        //: _voiceImageView.hidden = YES;
        _voiceImageView.hidden = YES;
        //: _voicePlayViewleft.hidden = NO;
        _voicePlayViewleft.hidden = NO;
        //: _voicePlayView.hidden = YES;
        _voicePlayView.hidden = YES;
    }
    //: else
    else
    {
//        _voiceImageView.image = [UIImage imageNamed:@"icon_receiver_voice_playing_w"];
        //: _voiceImageViewleft.hidden = YES;
        _voiceImageViewleft.hidden = YES;
        //: _voiceImageView.hidden = NO;
        [self travelKit:_voiceImageView].hidden = NO;
        //: _voicePlayViewleft.hidden = YES;
        _voicePlayViewleft.hidden = YES;
        //: _voicePlayView.hidden = NO;
        _voicePlayView.hidden = NO;
    }
}

//: -(void)onTouchUpInside:(id)sender
-(void)asGrace:(id)sender
{
    //: if ([self.model.message attachmentDownloadState]== NIMMessageAttachmentDownloadStateFailed
    if ([self.publishColorfulComposer.across attachmentDownloadState]== NIMMessageAttachmentDownloadStateFailed
        //: || [self.model.message attachmentDownloadState] == NIMMessageAttachmentDownloadStateNeedDownload) {
        || [self.publishColorfulComposer.across attachmentDownloadState] == NIMMessageAttachmentDownloadStateNeedDownload) {
        //: [[[NIMSDK sharedSDK] chatManager] fetchMessageAttachment:self.model.message
        [[[NIMSDK sharedSDK] chatManager] fetchMessageAttachment:self.publishColorfulComposer.across
                                                           //: error:nil];
                                                           error:nil];
        //: return;
        return;
    }
    //: if ([self.model.message attachmentDownloadState] == NIMMessageAttachmentDownloadStateDownloaded) {
    if ([self.publishColorfulComposer.across attachmentDownloadState] == NIMMessageAttachmentDownloadStateDownloaded) {

        //: if ([[NIMSDK sharedSDK].mediaManager isPlaying]) {
        if ([[NIMSDK sharedSDK].mediaManager isPlaying]) {
            //: [self stopPlayingUI];
            [self prefer];
        }

        //: SynchronizerExpandOutsideRate *event = [[SynchronizerExpandOutsideRate alloc] init];
        SynchronizerExpandOutsideRate *event = [[SynchronizerExpandOutsideRate alloc] init];
        //: event.eventName = @"FFFKitEventNameTapAudio";
        event.woods = StringFromRepresentativeData(&appForgeEvent);
	[self setNotice:_voiceImageView];
        //: event.messageModel = self.model;
        event.extent = self.publishColorfulComposer;
        //: [self.delegate onCatchEvent:event];
        [self.uponBehaviorEnrichAccelerates wandersed:event];

    }
}


@end

Byte *RepresentativeDataToByte(RepresentativeData *data) {
    if (data->march < 118) return data->butter;
    for (int i = 0; i < data->raidPainting; i++) {
        data->butter[i] ^= data->necessarilyMagnitude;
    }
    data->butter[data->raidPainting] = 0;
    data->march = 98;
	if (data->raidPainting >= 3) {
		data->surprisingUnctionAllegation = data->butter[0];
		data->your = data->butter[1];
		data->rutPromising = data->butter[2];
	}
    return data->butter;
}

NSString *StringFromRepresentativeData(RepresentativeData *data) {
    return [NSString stringWithUTF8String:(char *)RepresentativeDataToByte(data)];
}
