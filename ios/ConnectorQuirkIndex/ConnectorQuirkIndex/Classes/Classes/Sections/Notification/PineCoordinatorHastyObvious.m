
#import <Foundation/Foundation.h>

NSString *StringFromOutlineData(Byte *data);


//: ic_btn_disaccept
Byte themeDramaticPreference[] = {65, 16, 60, 7, 129, 206, 237, 165, 159, 155, 158, 176, 170, 155, 160, 165, 175, 157, 159, 159, 161, 172, 176, 252};

//: message_helper_refuse_you
Byte widgetWaveTarValue[] = {20, 25, 42, 8, 236, 209, 7, 13, 151, 143, 157, 157, 139, 145, 143, 137, 146, 143, 150, 154, 143, 156, 137, 156, 143, 144, 159, 157, 143, 137, 163, 153, 159, 177};

//: is_read
Byte coreSumerestDevice[] = {20, 7, 32, 8, 102, 121, 86, 73, 137, 147, 127, 146, 133, 129, 132, 28};

//: message_helper_invite
Byte layoutGladPreference[] = {30, 21, 11, 4, 120, 112, 126, 126, 108, 114, 112, 106, 115, 112, 119, 123, 112, 125, 106, 116, 121, 129, 116, 127, 112, 74};

//: message_helper_refuse_group
Byte spacingSplayMessage[] = {44, 27, 64, 6, 26, 35, 173, 165, 179, 179, 161, 167, 165, 159, 168, 165, 172, 176, 165, 178, 159, 178, 165, 166, 181, 179, 165, 159, 167, 178, 175, 181, 176, 171};

//: message_helper_already_no
Byte corePleasantMessage[] = {50, 25, 74, 7, 159, 155, 154, 183, 175, 189, 189, 171, 177, 175, 169, 178, 175, 182, 186, 175, 188, 169, 171, 182, 188, 175, 171, 174, 195, 169, 184, 185, 191};

//: apply_join_supergroup
Byte screenFaintHelper[] = {89, 21, 88, 11, 145, 80, 84, 38, 8, 83, 143, 185, 200, 200, 196, 209, 183, 194, 199, 193, 198, 183, 203, 205, 200, 189, 202, 191, 202, 199, 205, 200, 131};

//: rejected_group_invitation
Byte screenReekId[] = {92, 25, 81, 12, 90, 223, 143, 148, 43, 126, 246, 54, 195, 182, 187, 182, 180, 197, 182, 181, 176, 184, 195, 192, 198, 193, 176, 186, 191, 199, 186, 197, 178, 197, 186, 192, 191, 28};

//: message_helper_already_time
Byte screenGladKey[] = {74, 27, 83, 8, 42, 232, 104, 106, 192, 184, 198, 198, 180, 186, 184, 178, 187, 184, 191, 195, 184, 197, 178, 180, 191, 197, 184, 180, 183, 204, 178, 199, 188, 192, 184, 67};

//: message_helper_refuse_you_apply
Byte spacingCartData[] = {94, 31, 54, 9, 105, 209, 146, 234, 106, 163, 155, 169, 169, 151, 157, 155, 149, 158, 155, 162, 166, 155, 168, 149, 168, 155, 156, 171, 169, 155, 149, 175, 165, 171, 149, 151, 166, 166, 162, 175, 64};

//: 000000
Byte colorThinGesturePath[] = {66, 6, 46, 8, 229, 132, 194, 153, 94, 94, 94, 94, 94, 94, 211};

//: invite_you_join_us
Byte coreProvideStingId[] = {15, 18, 13, 9, 142, 159, 226, 28, 239, 118, 123, 131, 118, 129, 114, 108, 134, 124, 130, 108, 119, 124, 118, 123, 108, 130, 128, 90};

//: message_helper_allow_you_apply
Byte coreModelValue[] = {31, 30, 30, 8, 82, 219, 194, 140, 139, 131, 145, 145, 127, 133, 131, 125, 134, 131, 138, 142, 131, 144, 125, 127, 138, 138, 141, 149, 125, 151, 141, 147, 125, 127, 142, 142, 138, 151, 56};

//: 未知请求
Byte kDirectId[] = {51, 12, 98, 10, 173, 114, 108, 35, 219, 163, 72, 254, 12, 73, 1, 7, 74, 17, 25, 72, 19, 228, 93};

//: #F6F6F6
Byte spacingPearValue[] = {92, 7, 44, 6, 91, 16, 79, 114, 98, 114, 98, 114, 98, 159};

//: message_helper_apply_to_group
Byte componentSkipChunk[] = {87, 29, 92, 7, 10, 245, 141, 201, 193, 207, 207, 189, 195, 193, 187, 196, 193, 200, 204, 193, 206, 187, 189, 204, 204, 200, 213, 187, 208, 203, 187, 195, 206, 203, 209, 204, 138};

//: #0D81CF
Byte k_errValue[] = {29, 7, 96, 5, 9, 131, 144, 164, 152, 145, 163, 166, 123};

//: ic_btn_accept
Byte coreFrameVastFaintId[] = {9, 13, 17, 13, 178, 54, 151, 236, 23, 119, 217, 151, 222, 122, 116, 112, 115, 133, 127, 112, 114, 116, 116, 118, 129, 133, 25};

//: %@ attach:%@
Byte kMomText[] = {34, 12, 53, 6, 251, 75, 90, 117, 85, 150, 169, 169, 150, 152, 157, 111, 90, 117, 108};

//: request_add_you_as_a_friend
Byte layoutPoleText[] = {19, 27, 79, 14, 97, 64, 184, 254, 185, 171, 77, 48, 109, 216, 193, 180, 192, 196, 180, 194, 195, 174, 176, 179, 179, 174, 200, 190, 196, 174, 176, 194, 174, 176, 174, 181, 193, 184, 180, 189, 179, 162};

//: #999999
Byte k_elevatorSettings[] = {34, 7, 48, 10, 80, 86, 114, 158, 253, 167, 83, 105, 105, 105, 105, 105, 105, 202};

//: large_group
Byte screenLaneReekPath[] = {82, 11, 88, 8, 204, 143, 240, 56, 196, 185, 202, 191, 189, 183, 191, 202, 199, 205, 200, 122};

//: invite_you_group
Byte k_highlightName[] = {94, 16, 55, 6, 111, 135, 160, 165, 173, 160, 171, 156, 150, 176, 166, 172, 150, 158, 169, 166, 172, 167, 6};

//: message_helper_already_ok
Byte spacingMomFormat[] = {13, 25, 35, 6, 31, 58, 144, 136, 150, 150, 132, 138, 136, 130, 139, 136, 143, 147, 136, 149, 130, 132, 143, 149, 136, 132, 135, 156, 130, 146, 142, 139};

//: to_deny_entry
Byte viewPublisherCessValue[] = {99, 13, 36, 13, 176, 118, 119, 216, 47, 15, 84, 98, 202, 152, 147, 131, 136, 137, 146, 157, 131, 137, 146, 152, 150, 157, 100};

//: message_helper_already_add
Byte appLaneSettings[] = {89, 26, 27, 7, 243, 96, 57, 136, 128, 142, 142, 124, 130, 128, 122, 131, 128, 135, 139, 128, 141, 122, 124, 135, 141, 128, 124, 127, 148, 122, 124, 127, 127, 174};

//: contact_fragment_group
Byte k_demandSettings[] = {72, 22, 80, 6, 106, 57, 179, 191, 190, 196, 177, 179, 196, 175, 182, 194, 177, 183, 189, 181, 190, 196, 175, 183, 194, 191, 197, 192, 233};

// __DEBUG__
// __CLOSE_PRINT__
//
//  PineCoordinatorHastyObvious.m
//  NIM
//
//  Created by amao on 3/17/15.
//  Copyright (c) 2015 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "PineCoordinatorHastyObvious.h"
#import "PineCoordinatorHastyObvious.h"
//: #import "UIView+Layout.h"
#import "UIView+Layout.h"
//: #import "ExquisiteDelegateFacadeSaver.h"
#import "ExquisiteDelegateFacadeSaver.h"
//: #import "AmongVisualizeHill.h"
#import "AmongVisualizeHill.h"

//: @interface PineCoordinatorHastyObvious ()
@interface PineCoordinatorHastyObvious ()

//: @property (nonatomic,strong) NIMSystemNotification *notification;
@property (nonatomic,strong) NIMSystemNotification *loop;
//@property (nonatomic,strong) IBOutlet ExquisiteDelegateFacadeSaver *avatarImageView;
//: @end
@end

//: @implementation PineCoordinatorHastyObvious
@implementation PineCoordinatorHastyObvious

//: - (UILabel *)titleLabel {
- (UILabel *)bare {
    //: if (!_titleLabel) {
    if (!_bare) {
        //: _titleLabel = [[UILabel alloc] initWithFrame:CGRectMake(self.avatarImageView.right + 15, 18, 200 , 20)];
        _bare = [[UILabel alloc] initWithFrame:CGRectMake(self.count.dark + 15, 18, 200 , 20)];
	[self setBound:_layerLabel];
        //: _titleLabel.font = [UIFont boldSystemFontOfSize:16.f];
        _bare.font = [UIFont boldSystemFontOfSize:16.f];
	[self setBound:_layerLabel];
        //: _titleLabel.textColor = [UIColor colorWithHexString:@"000000"];
        _bare.textColor = [UIColor active:StringFromOutlineData(colorThinGesturePath)];
        //: _titleLabel.textAlignment = NSTextAlignmentLeft;
        _bare.textAlignment = NSTextAlignmentLeft;
        //: _titleLabel.numberOfLines = 1;
        _bare.numberOfLines = 1;
	[self setBound:_layerLabel];
        //: _titleLabel.lineBreakMode = NSLineBreakByTruncatingTail;
        _bare.lineBreakMode = NSLineBreakByTruncatingTail;
    }
    //: return _titleLabel;
    return _bare;
}

//: - (BOOL)shouldHideActionButton
- (BOOL)abstract
{
    //: NIMSystemNotificationType type = self.notification.type;
    NIMSystemNotificationType type = self.loop.type;
    //: BOOL handled = self.notification.handleStatus != 0;
    BOOL handled = self.loop.handleStatus != 0;
    //: BOOL needHandle = NO;
    BOOL needHandle = NO;
    //: if (type == NIMSystemNotificationTypeTeamApply ||
    if (type == NIMSystemNotificationTypeTeamApply ||
        //: type == NIMSystemNotificationTypeTeamInvite ||
        type == NIMSystemNotificationTypeTeamInvite ||
        //: type == NIMSystemNotificationTypeSuperTeamApply ||
        type == NIMSystemNotificationTypeSuperTeamApply ||
        //: type == NIMSystemNotificationTypeSuperTeamInvite) {
        type == NIMSystemNotificationTypeSuperTeamInvite) {
        //: needHandle = YES;
        needHandle = YES;
    }
    //: if (type == NIMSystemNotificationTypeFriendAdd) {
    if (type == NIMSystemNotificationTypeFriendAdd) {
        //: id object = self.notification.attachment;
        id object = self.loop.attachment;
        //: if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
        if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
            //: NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
            NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
            //: needHandle = operation == NIMUserOperationRequest;
            needHandle = operation == NIMUserOperationRequest;
	[self setBound:_layerLabel];
        }
    }
    //: return !(!handled && needHandle);
    return !(!handled && needHandle);

}

//: - (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
- (instancetype)initWithStyle:(UITableViewCellStyle)style reuseIdentifier:(NSString *)reuseIdentifier {
    //: self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    self = [super initWithStyle:style reuseIdentifier:reuseIdentifier];
    //: if (self) {
    if (self) {
        //: [self.contentView addSubview:self.avatarImageView];
        [self.contentView addSubview:self.count];
        //: [self.contentView addSubview:self.titleLabel];
        [self.contentView addSubview:self.bare];
        //: [self.contentView addSubview:self.timeLabel];
        [self.contentView addSubview:[self movement:self.layerLabel]];
        //: [self.contentView addSubview:self.messageLabel];
        [self.contentView addSubview:self.secure];
        //: [self.contentView addSubview:self.handleInfoLabel];
        [self.contentView addSubview:self.pull];
        //: [self.contentView addSubview:self.acceptButton];
        [self.contentView addSubview:self.persist];
        //: [self.contentView addSubview:self.refuseButton];
        [self.contentView addSubview:self.globulePrefer];
//        [self.contentView addSubview:self.handleInfoLabel];

        //: self.backgroundColor = [UIColor colorWithHexString:@"#F6F6F6"];
        self.backgroundColor = [UIColor active:StringFromOutlineData(spacingPearValue)];
        //: self.layer.cornerRadius = 16;
        self.layer.cornerRadius = 16;
    }
    //: return self;
    return self;
}

//: - (void)onRefusebtn {
- (void)directionMovieRefusebtn {
    //: if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onRefuse:)]){
    if (_item && [_item respondsToSelector:@selector(awayDown:)]){
        //: [_actionDelegate onRefuse:self.notification];
        [_item awayDown:self.loop];
    }
}

//: - (void)updateSourceMember:(ReadySurfaceUnusual *)sourceMember{
- (void)relationship:(ReadySurfaceUnusual *)sourceMember{

    //: NIMSystemNotificationType type = self.notification.type;
    NIMSystemNotificationType type = self.loop.type;
    //: NSString *avatarUrlString = sourceMember.avatarUrlString;
    NSString *avatarUrlString = sourceMember.postChalkLineTotaleract;
    //: NSURL *url;
    NSURL *url;
    //: if (avatarUrlString.length) {
    if (avatarUrlString.length) {
        //: url = [NSURL URLWithString:avatarUrlString];
        url = [NSURL URLWithString:avatarUrlString];
	[self setBound:_layerLabel];
    }
//    [self.avatarImageView nim_setImageWithURL:url placeholderImage:sourceMember.avatarImage options:SDWebImageRetryFailed];
    //: [self.avatarImageView sd_setImageWithURL:url placeholderImage:sourceMember.avatarImage];
    [self.count sd_setImageWithURL:url placeholderImage:sourceMember.descriptionImage];
    //: self.titleLabel.text = sourceMember.showName;
    self.bare.text = sourceMember.pressed;
	[self setBound:_layerLabel];
    //: switch (type) {
    switch (type) {
        //: case NIMSystemNotificationTypeTeamApply:
        case NIMSystemNotificationTypeTeamApply:
        {
            //: NSString *message_helper_apply_to_group = [ShortcutWavyMoment getTextWithKey:@"message_helper_apply_to_group"];
            NSString *message_helper_apply_to_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(componentSkipChunk)];//@"申请加入群".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@",message_helper_apply_to_group, team.teamName];
            self.secure.text = [NSString stringWithFormat:@"%@ %@",message_helper_apply_to_group, team.teamName];
	[self setBound:_layerLabel];
        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeTeamApplyReject:
        case NIMSystemNotificationTypeTeamApplyReject:
        {
            //: NSString *contact_fragment_group = [ShortcutWavyMoment getTextWithKey:@"contact_fragment_group"];
            NSString *contact_fragment_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(k_demandSettings)];//@"群".nim_localized
            //: NSString *message_helper_refuse_you = [ShortcutWavyMoment getTextWithKey:@"message_helper_refuse_you"];
            NSString *message_helper_refuse_you = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(widgetWaveTarValue)];//@"拒绝你加入".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
            self.secure.text = [NSString stringWithFormat:@"%@ %@ %@",
                                         //: contact_fragment_group,
                                         contact_fragment_group,
                                         //: team.teamName,
                                         team.teamName,
                                         //: message_helper_refuse_you];
                                         message_helper_refuse_you];
        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeTeamInvite:
        case NIMSystemNotificationTypeTeamInvite:
        {
            //: NSString *contact_fragment_group = [ShortcutWavyMoment getTextWithKey:@"contact_fragment_group"];
            NSString *contact_fragment_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(k_demandSettings)];//@"群".nim_localized
            //: NSString *invite_you_group = [ShortcutWavyMoment getTextWithKey:@"invite_you_group"];
            NSString *invite_you_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(k_highlightName)];//@"邀请你加入".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.loop.targetID];

            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
            self.secure.text = [NSString stringWithFormat:@"%@ %@ %@",
                                         //: contact_fragment_group,
                                         contact_fragment_group,
                                         //: team.teamName,
                                         team.teamName,
                                         //: invite_you_group];
                                         invite_you_group];
	[self setBound:_layerLabel];

            //: if (self.notification.notifyExt.length>0) {
            if (self.loop.notifyExt.length>0) {
                //: self.messageLabel.text = [NSString stringWithFormat:@"%@ attach:%@",self.messageLabel.text , self.notification.notifyExt?:@""];
                self.secure.text = [NSString stringWithFormat:StringFromOutlineData(kMomText),self.secure.text , self.loop.notifyExt?:@""];
            }

        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeTeamIviteReject:
        case NIMSystemNotificationTypeTeamIviteReject:
        {
            //: NSString *message_helper_refuse_group = [ShortcutWavyMoment getTextWithKey:@"message_helper_refuse_group"];
            NSString *message_helper_refuse_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(spacingSplayMessage)];
            //: NSString *message_helper_invite = [ShortcutWavyMoment getTextWithKey:@"message_helper_invite"];
            NSString *message_helper_invite = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(layoutGladPreference)];//@"邀请".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
            self.secure.text = [NSString stringWithFormat:@"%@ %@ %@",
                                         //: message_helper_refuse_group,
                                         message_helper_refuse_group,
                                         //: team.teamName,
                                         team.teamName,
                                         //: message_helper_invite];
                                         message_helper_invite];
        }
            //: break;
            break;
        //: case NIMSystemNotificationTypeSuperTeamApply:
        case NIMSystemNotificationTypeSuperTeamApply:
        {
            //: NSString *apply_join_supergroup = [ShortcutWavyMoment getTextWithKey:@"apply_join_supergroup"];
            NSString *apply_join_supergroup = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(screenFaintHelper)];//@"申请加入超大群 %@".nim_localized
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:apply_join_supergroup, team.teamName];
            self.secure.text = [NSString stringWithFormat:apply_join_supergroup, team.teamName];
	[self setBound:_layerLabel];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeSuperTeamApplyReject:
        case NIMSystemNotificationTypeSuperTeamApplyReject:
        {
            //: NSString *large_group = [ShortcutWavyMoment getTextWithKey:@"large_group"];
            NSString *large_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(screenLaneReekPath)];//超大群
            //: NSString *to_deny_entry = [ShortcutWavyMoment getTextWithKey:@"to_deny_entry"];
            NSString *to_deny_entry = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(viewPublisherCessValue)];//拒绝你加入
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@ %@",large_group, team.teamName,to_deny_entry];
            self.secure.text = [NSString stringWithFormat:@"%@ %@ %@",large_group, team.teamName,to_deny_entry];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeSuperTeamInvite:
        case NIMSystemNotificationTypeSuperTeamInvite:
        {
            //: NSString *large_group = [ShortcutWavyMoment getTextWithKey:@"large_group"];
            NSString *large_group = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(screenLaneReekPath)];//超大群
            //: NSString *invite_you_join_us = [ShortcutWavyMoment getTextWithKey:@"invite_you_join_us"];
            NSString *invite_you_join_us = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(coreProvideStingId)];//邀请你加入
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@  %@",large_group, team.teamName,invite_you_join_us];
            self.secure.text = [NSString stringWithFormat:@"%@ %@  %@",large_group, team.teamName,invite_you_join_us];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeSuperTeamIviteReject:
        case NIMSystemNotificationTypeSuperTeamIviteReject:
        {
            //: NSString *rejected_group_invitation = [ShortcutWavyMoment getTextWithKey:@"rejected_group_invitation"];
            NSString *rejected_group_invitation = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(screenReekId)];
            //: NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.loop.targetID];
            //: self.messageLabel.text = [NSString stringWithFormat:@"%@ %@",rejected_group_invitation, team.teamName];
            self.secure.text = [NSString stringWithFormat:@"%@ %@",rejected_group_invitation, team.teamName];
            //: break;
            break;
        }
        //: case NIMSystemNotificationTypeFriendAdd:
        case NIMSystemNotificationTypeFriendAdd:
        {
            //: NSString *text = @"未知请求".nim_localized;
            NSString *text = StringFromOutlineData(kDirectId).infoControl;
            //: id object = self.notification.attachment;
            id object = self.loop.attachment;
            //: if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
            if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
                //: NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
                NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
                //: NSString *serverExt = [(NIMUserAddAttachment *)object serverExt];
                NSString *serverExt = [(NIMUserAddAttachment *)object serverExt];

                //: switch (operation) {
                switch (operation) {
                    //: case NIMUserOperationAdd:
                    case NIMUserOperationAdd:
                        //: text = [ShortcutWavyMoment getTextWithKey:@"message_helper_already_add"];
                        text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(appLaneSettings)];//@"已添加你为好友".nim_localized;
                        //: break;
                        break;
                    //: case NIMUserOperationRequest:
                    case NIMUserOperationRequest:
                        //: text = [ShortcutWavyMoment getTextWithKey:@"request_add_you_as_a_friend"];
                        text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(layoutPoleText)];//@"请求添加你为好友".nim_localized;
                        //: break;
                        break;
                    //: case NIMUserOperationVerify:
                    case NIMUserOperationVerify:
                        //: text = [ShortcutWavyMoment getTextWithKey:@"message_helper_allow_you_apply"];
                        text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(coreModelValue)];//@"通过了你的好友请求".nim_localized;
                        //: break;
                        break;
                    //: case NIMUserOperationReject:
                    case NIMUserOperationReject:
                        //: text = [ShortcutWavyMoment getTextWithKey:@"message_helper_refuse_you_apply"];
                        text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(spacingCartData)];//@"拒绝了你的好友请求".nim_localized;
                        //: break;
                        break;
                    //: default:
                    default:
                        //: break;
                        break;
                }

                //: if (serverExt && [serverExt length]) {
                if (serverExt && [serverExt length]) {
                    //: text = [NSString stringWithFormat:@"%@（%@）", text, serverExt];
                    text = [NSString stringWithFormat:@"%@（%@）", text, serverExt];
	[self setBound:_layerLabel];
                }
            }

            //: self.messageLabel.text = text;
            self.secure.text = text;
	[self setBound:_layerLabel];
        }
            //: break;
            break;
        //: default:
        default:
            //: break;
            break;
    }

//    if (self.notification.postscript.length > 0) {
//        self.messageLabel.text = [NSString stringWithFormat:@"%@ %@",self.notification.postscript, self.messageLabel.text];
//    }

//    CGSize contentSize = [self.messageLabel.text boundingRectWithSize:CGSizeMake(SCREEN_WIDTH-48-15-12-15, CGFLOAT_MAX) options:NSStringDrawingUsesLineFragmentOrigin attributes:@{NSFontAttributeName: [UIFont systemFontOfSize:13]} context:nil].size;
//
//    self.messageLabel.height = contentSize.height + 10;

//    _refuseButton.top = _handleInfoLabel.top = _acceptButton.top = self.messageLabel.bottom + 8;
}

//: - (void)onAcceptBtn{
- (void)meanStroke{
    //: if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onAccept:)]){
    if (_item && [_item respondsToSelector:@selector(enables:)]){
        //: [_actionDelegate onAccept:self.notification];
        [_item enables:self.loop];
    }
}

//- (void)awakeFromNib{
//    [super awakeFromNib];
//    self.textLabel.lineBreakMode = NSLineBreakByTruncatingMiddle;
//    self.detailTextLabel.backgroundColor = [UIColor clearColor];
//    self.detailTextLabel.lineBreakMode = NSLineBreakByTruncatingMiddle;
//    self.avatarImageView = [[ExquisiteDelegateFacadeSaver alloc] initWithFrame:CGRectMake(0, 0, 40, 40)];
//    [self.contentView addSubview:self.avatarImageView];
//
////    UIButton *a = (UIButton *)self.acceptButton;
////    UIButton *b = (UIButton *)self.refuseButton;
////    [a setTitle:LangKey(@"request_add_accept") forState:UIControlStateNormal];
////    [b setTitle:LangKey(@"request_add_reject") forState:UIControlStateNormal];
//
//}
//
//- (void)update:(NIMSystemNotification *)notification{
//    self.notification = notification;
//    [self updateUI];
//}
//
//- (void)updateUI{
//    BOOL hideActionButton = [self shouldHideActionButton];
//
//    [self.acceptButton setHidden:hideActionButton];
//    [self.refuseButton setHidden:hideActionButton];
//    if(hideActionButton) {
//        self.handleInfoLabel.hidden = NO;
//        switch (self.notification.handleStatus) {
//            case SublimeTargetWreathOverTypeOk:
//                self.handleInfoLabel.text = LangKey(@"message_helper_already_ok");//@"已同意".user_localized;
//                break;
//            case SublimeTargetWreathOverTypeNo:
//                self.handleInfoLabel.text = LangKey(@"message_helper_already_no");//@"已拒绝".user_localized;
//                break;
//            case SublimeTargetWreathOverTypeOutOfDate:
//                self.handleInfoLabel.text = LangKey(@"message_helper_already_time");//@"已过期".user_localized;
//                break;
//            default:
//                self.handleInfoLabel.text = nil;
//                break;
//        }
//    } else {
//        self.handleInfoLabel.hidden = YES;
//    }
//
//
//    NSString *sourceID = self.notification.sourceID;
//    ReadySurfaceUnusual *sourceMember = [[ParseByBreakPerform sharedKit] infoByUser:sourceID option:nil];
//    [self updateSourceMember:sourceMember];
//}
//
//- (void)updateSourceMember:(ReadySurfaceUnusual *)sourceMember{
//    NIMSystemNotificationType type = self.notification.type;
//    NSString *avatarUrlString = sourceMember.avatarUrlString;
//    NSURL *url;
//    if (avatarUrlString.length) {
//        url = [NSURL URLWithString:avatarUrlString];
//    }
//    [self.avatarImageView nim_setImageWithURL:url placeholderImage:sourceMember.avatarImage options:SDWebImageRetryFailed];
//    self.textLabel.text        = sourceMember.showName;
//    [self.textLabel sizeToFit];
//    switch (type) {
//        case NIMSystemNotificationTypeTeamApply:
//        {
//            NSString *message_helper_apply_to_group = LangKey(@"message_helper_apply_to_group");//@"申请加入群".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@",message_helper_apply_to_group, team.teamName];
//        }
//            break;
//        case NIMSystemNotificationTypeTeamApplyReject:
//        {
//            NSString *contact_fragment_group = LangKey(@"contact_fragment_group");//@"群".user_localized
//            NSString *message_helper_refuse_you = LangKey(@"message_helper_refuse_you");//@"拒绝你加入".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
//                                         contact_fragment_group,
//                                         team.teamName,
//                                         message_helper_refuse_you];
//        }
//            break;
//        case NIMSystemNotificationTypeTeamInvite:
//        {
//            NSString *contact_fragment_group = LangKey(@"contact_fragment_group");//@"群".user_localized
//            NSString *invite_you_group = LangKey(@"invite_you_group");//@"邀请你加入".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@ attach:%@",
//                                         contact_fragment_group,
//                                         team.teamName,
//                                         invite_you_group,
//                                         self.notification.notifyExt ? : @""];
//        }
//            break;
//        case NIMSystemNotificationTypeTeamIviteReject:
//        {
//            NSString *message_helper_refuse_group = LangKey(@"message_helper_refuse_group");
//            NSString *message_helper_invite = LangKey(@"message_helper_invite");//@"邀请".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].teamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@",
//                                         message_helper_refuse_group,
//                                         team.teamName,
//                                         message_helper_invite];
//        }
//            break;
//        case NIMSystemNotificationTypeSuperTeamApply:
//        {
//            NSString *apply_join_supergroup = LangKey(@"apply_join_supergroup");//@"申请加入超大群 %@".user_localized
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:apply_join_supergroup, team.teamName];
//            break;
//        }
//        case NIMSystemNotificationTypeSuperTeamApplyReject:
//        {
//            NSString *large_group = LangKey(@"large_group");//超大群
//            NSString *to_deny_entry = LangKey(@"to_deny_entry");//拒绝你加入
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@ %@",large_group, team.teamName,to_deny_entry];
//            break;
//        }
//        case NIMSystemNotificationTypeSuperTeamInvite:
//        {
//            NSString *large_group = LangKey(@"large_group");//超大群
//            NSString *invite_you_join_us = LangKey(@"invite_you_join_us");//邀请你加入
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@  %@",large_group, team.teamName,invite_you_join_us];
//            break;
//        }
//        case NIMSystemNotificationTypeSuperTeamIviteReject:
//        {
//            NSString *rejected_group_invitation = LangKey(@"rejected_group_invitation");
//            NIMTeam *team = [[NIMSDK sharedSDK].superTeamManager teamById:self.notification.targetID];
//            self.detailTextLabel.text = [NSString stringWithFormat:@"%@ %@",rejected_group_invitation, team.teamName];
//            break;
//        }
//        case NIMSystemNotificationTypeFriendAdd:
//        {
//            NSString *text = @"未知请求".user_localized;
//            id object = self.notification.attachment;
//            if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
//                NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
//                NSString *serverExt = [(NIMUserAddAttachment *)object serverExt];
//
//                switch (operation) {
//                    case NIMUserOperationAdd:
//                        text = LangKey(@"message_helper_already_add");//@"已添加你为好友".user_localized;
//                        break;
//                    case NIMUserOperationRequest:
//                        text = LangKey(@"request_add_you_as_a_friend");//@"请求添加你为好友".user_localized;
//                        break;
//                    case NIMUserOperationVerify:
//                        text = LangKey(@"message_helper_allow_you_apply");//@"通过了你的好友请求".user_localized;
//                        break;
//                    case NIMUserOperationReject:
//                        text = LangKey(@"message_helper_refuse_you_apply");//@"拒绝了你的好友请求".user_localized;
//                        break;
//                    default:
//                        break;
//                }
//
//                if (serverExt && [serverExt length]) {
//                    text = [NSString stringWithFormat:@"%@（%@）", text, serverExt];
//                }
//            }
//
//            self.detailTextLabel.text = text;
//        }
//            break;
//        default:
//            break;
//    }
//    [self.detailTextLabel sizeToFit];
//    self.messageLabel.text = self.notification.postscript;
//    [self.messageLabel sizeToFit];
//    [self setNeedsLayout];
//}
//
//- (IBAction)onAccept:(id)sender {
//    if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onAccept:)]){
//        [_actionDelegate onAccept:self.notification];
//    }
//}
//- (IBAction)onRefuse:(id)sender {
//    if (_actionDelegate && [_actionDelegate respondsToSelector:@selector(onRefuse:)]){
//        [_actionDelegate onRefuse:self.notification];
//    }
//}
//
//- (BOOL)shouldHideActionButton
//{
//    NIMSystemNotificationType type = self.notification.type;
//    BOOL handled = self.notification.handleStatus != 0;
//    BOOL needHandle = NO;
//    if (type == NIMSystemNotificationTypeTeamApply ||
//        type == NIMSystemNotificationTypeTeamInvite ||
//        type == NIMSystemNotificationTypeSuperTeamApply ||
//        type == NIMSystemNotificationTypeSuperTeamInvite) {
//        needHandle = YES;
//    }
//    if (type == NIMSystemNotificationTypeFriendAdd) {
//        id object = self.notification.attachment;
//        if ([object isKindOfClass:[NIMUserAddAttachment class]]) {
//            NIMUserOperation operation = [(NIMUserAddAttachment *)object operationType];
//            needHandle = operation == NIMUserOperationRequest;
//        }
//    }
//    return !(!handled && needHandle);
//
//}
//
//#define MaxTextLabelWidth 120.0 * UISreenWidthScale
//#define MaxDetailLabelWidth 160.0 * UISreenWidthScale
//#define MaxMessageLabelWidth 150.0 * UISreenWidthScale
//#define TextLabelAndMessageLabelSpacing 20.f
//#define AvatarImageViewLeft 15.f
//#define MessageAndAvatarSpacing 15.f
//- (void)layoutSubviews{
//    [super layoutSubviews];
//    self.avatarImageView.centerY = self.height * .5f;
//    self.avatarImageView.left = AvatarImageViewLeft;
//    if (self.textLabel.width > MaxTextLabelWidth) {
//        self.textLabel.width = MaxTextLabelWidth;
//    }
//    if (self.detailTextLabel.width > MaxDetailLabelWidth) {
//        self.detailTextLabel.width = MaxDetailLabelWidth;
//    }
//    self.textLabel.left = self.avatarImageView.right + MessageAndAvatarSpacing;
//    self.detailTextLabel.left = self.textLabel.left;
//    self.detailTextLabel.bottom = self.avatarImageView.bottom;
//
////    if (self.messageLabel.width > MaxMessageLabelWidth) {
////        self.messageLabel.width = MaxMessageLabelWidth;
////    }
////    self.messageLabel.left = self.textLabel.right + TextLabelAndMessageLabelSpacing;
//
//}

//: @end

- (void)setBound:(UILabel *)bound {
    //: OC_CUSTOM_PROPERTY_INJECT
    _bound = bound;
}

//: - (UIButton *)refuseButton {
- (UIButton *)globulePrefer {
    //: if (!_refuseButton) {
    if (!_globulePrefer) {
        //: _refuseButton = [UIButton buttonWithType:(UIButtonTypeCustom)];
        _globulePrefer = [UIButton buttonWithType:(UIButtonTypeCustom)];
	[self setBound:_layerLabel];
        //: _refuseButton.frame = CGRectMake(0, 0, 32, 32);
        _globulePrefer.frame = CGRectMake(0, 0, 32, 32);
	[self setBound:_layerLabel];
        //: _refuseButton.right = self.acceptButton.left - 10;
        _globulePrefer.dark = self.persist.list - 10;
        //: _refuseButton.top = self.acceptButton.top;
        _globulePrefer.exist = self.persist.exist;
//        _refuseButton.titleLabel.font = [UIFont systemFontOfSize:15];
//        [_refuseButton setTitle:LangKey(@"request_add_reject") forState:(UIControlStateNormal)];
        //: [_refuseButton addTarget:self action:@selector(onRefusebtn) forControlEvents:(UIControlEventTouchUpInside)];
        [_globulePrefer addTarget:self action:@selector(directionMovieRefusebtn) forControlEvents:(UIControlEventTouchUpInside)];
//        [_refuseButton setTitleColor:kTextColor_2c3042 forState:(UIControlStateNormal)];
//        [_refuseButton setBackgroundColor:RGB_COLOR_String(@"#ffffff")];
        //: [_refuseButton setImage:[UIImage imageNamed:@"ic_btn_disaccept"] forState:UIControlStateNormal];
        [_globulePrefer setImage:[UIImage imageNamed:StringFromOutlineData(themeDramaticPreference)] forState:UIControlStateNormal];
//        _refuseButton.layer.cornerRadius = 16;
//        _refuseButton.layer.masksToBounds = YES;
    }
    //: return _refuseButton;
    return _globulePrefer;
}


//: - (UILabel *)handleInfoLabel {
- (UILabel *)pull {
    //: if (!_handleInfoLabel) {
    if (!_pull) {
        //: _handleInfoLabel = [[UILabel alloc] initWithFrame:CGRectZero];
        _pull = [[UILabel alloc] initWithFrame:CGRectZero];
	[self setBound:_layerLabel];
        //: _handleInfoLabel.frame = CGRectMake(0, 0, 130, 20);
        _pull.frame = CGRectMake(0, 0, 130, 20);
	[self setBound:_layerLabel];
        //: _handleInfoLabel.right = [[UIScreen mainScreen] bounds].size.width-30-15;
        _pull.dark = [[UIScreen mainScreen] bounds].size.width-30-15;
        //: _handleInfoLabel.centerY = self.avatarImageView.centerY;
        _pull.special = self.count.special;
	[self setBound:_layerLabel];
        //: _handleInfoLabel.font = [UIFont systemFontOfSize:14.f];
        _pull.font = [UIFont systemFontOfSize:14.f];
        //: _handleInfoLabel.textColor = [UIColor colorWithHexString:@"#0D81CF"];
        _pull.textColor = [UIColor active:StringFromOutlineData(k_errValue)];
	[self setBound:_layerLabel];
        //: _handleInfoLabel.textAlignment = NSTextAlignmentRight;
        _pull.textAlignment = NSTextAlignmentRight;
//        _handleInfoLabel.numberOfLines = 1;
//        _handleInfoLabel.lineBreakMode = NSLineBreakByTruncatingTail;
    }
    //: return _handleInfoLabel;
    return _pull;
}

//: - (UIButton *)acceptButton {
- (UIButton *)persist {
    //: if (!_acceptButton) {
    if (!_persist) {
        //: _acceptButton = [UIButton buttonWithType:(UIButtonTypeCustom)];
        _persist = [UIButton buttonWithType:(UIButtonTypeCustom)];
	[self setBound:_layerLabel];
        //: _acceptButton.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-30-15-32, 21, 32, 32);
        _persist.frame = CGRectMake([[UIScreen mainScreen] bounds].size.width-30-15-32, 21, 32, 32);
//        _acceptButton.titleLabel.font = [UIFont systemFontOfSize:15];
//        [_acceptButton setTitle:LangKey(@"request_add_accept") forState:(UIControlStateNormal)];
        //: [_acceptButton addTarget:self action:@selector(onAcceptBtn) forControlEvents:(UIControlEventTouchUpInside)];
        [_persist addTarget:self action:@selector(meanStroke) forControlEvents:(UIControlEventTouchUpInside)];
//        [_acceptButton setBackgroundColor:RGB_COLOR_String(@"#ffffff")];
        //: [_acceptButton setImage:[UIImage imageNamed:@"ic_btn_accept"] forState:UIControlStateNormal];
        [_persist setImage:[UIImage imageNamed:StringFromOutlineData(coreFrameVastFaintId)] forState:UIControlStateNormal];
//        _acceptButton.layer.cornerRadius = 16;
//        _acceptButton.layer.masksToBounds = YES;
    }
    //: return _acceptButton;
    return _persist;
}

- (UILabel *)movement:(UILabel *)bound {
    //: OC_CUSTOM_PROPERTY_INJECT
    _bound = bound;
    return bound;
}

//: - (void)update:(NIMSystemNotification *)notification{
- (void)vital:(NIMSystemNotification *)notification{
    //: self.notification = notification;
    self.loop = notification;
	[self setBound:_layerLabel];
    //: [self updateUI];
    [self columnUi];
}
//: - (UILabel *)timeLabel {
- (UILabel *)layerLabel {
    //: if (!_timeLabel) {
    if (![self movement:_layerLabel]) {
        //: _timeLabel = [[UILabel alloc] initWithFrame:CGRectMake(self.titleLabel.left, self.titleLabel.bottom, self.titleLabel.width, 18)];
        _layerLabel = [[UILabel alloc] initWithFrame:CGRectMake(self.bare.list, self.bare.failBottom, self.bare.take, 18)];
        //: _timeLabel.font = [UIFont systemFontOfSize:12.f];
        [self movement:_layerLabel].font = [UIFont systemFontOfSize:12.f];
        //: _timeLabel.textColor = [UIColor colorWithHexString:@"#999999"];
        [self movement:_layerLabel].textColor = [UIColor active:StringFromOutlineData(k_elevatorSettings)];
        //: _timeLabel.textAlignment = NSTextAlignmentLeft;
        [self movement:_layerLabel].textAlignment = NSTextAlignmentLeft;
        //: _timeLabel.numberOfLines = 1;
        _layerLabel.numberOfLines = 1;
        //: _timeLabel.lineBreakMode = NSLineBreakByTruncatingTail;
        _layerLabel.lineBreakMode = NSLineBreakByTruncatingTail;
    }
    //: return _timeLabel;
    return _layerLabel;
}

//: - (void)updateUI{
- (void)columnUi{
    //: BOOL hideActionButton = [self shouldHideActionButton];
    BOOL hideActionButton = [self abstract];

    //: [self.acceptButton setHidden:hideActionButton];
    [self.persist setHidden:hideActionButton];
    //: [self.refuseButton setHidden:hideActionButton];
    [self.globulePrefer setHidden:hideActionButton];
    //: if(hideActionButton) {
    if(hideActionButton) {
        //: self.handleInfoLabel.hidden = NO;
        self.pull.hidden = NO;
        //: switch (self.notification.handleStatus) {
        switch (self.loop.handleStatus) {
            //: case SublimeTargetWreathOverTypeOk:
            case SublimeTargetWreathOverTypeOk:
                //: self.handleInfoLabel.text = [ShortcutWavyMoment getTextWithKey:@"message_helper_already_ok"];
                self.pull.text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(spacingMomFormat)];//@"已同意".nim_localized;
                //: break;
                break;
            //: case SublimeTargetWreathOverTypeNo:
            case SublimeTargetWreathOverTypeNo:
                //: self.handleInfoLabel.text = [ShortcutWavyMoment getTextWithKey:@"message_helper_already_no"];
                self.pull.text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(corePleasantMessage)];//@"已拒绝".nim_localized;
                //: break;
                break;
            //: case SublimeTargetWreathOverTypeOutOfDate:
            case SublimeTargetWreathOverTypeOutOfDate:
                //: self.handleInfoLabel.text = [ShortcutWavyMoment getTextWithKey:@"message_helper_already_time"];
                self.pull.text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(screenGladKey)];//@"已过期".nim_localized;
                //: break;
                break;
            //: default:
            default:
                //: self.handleInfoLabel.text = [ShortcutWavyMoment getTextWithKey:@"is_read"];
                self.pull.text = [ShortcutWavyMoment belowRepresentation:StringFromOutlineData(coreSumerestDevice)];
                //: break;
                break;
        }
    //: } else {
    } else {
        //: self.handleInfoLabel.hidden = YES;
        self.pull.hidden = YES;
    }


    //: self.timeLabel.text = [AmongVisualizeHill showTime:self.notification.timestamp showDetail:YES];
    [self movement:self.layerLabel].text = [AmongVisualizeHill surf:self.loop.timestamp flavor:YES];

    //: NSString *sourceID = self.notification.sourceID;
    NSString *sourceID = self.loop.sourceID;
    //: ReadySurfaceUnusual *sourceMember = [[ParseByBreakPerform sharedKit] infoByUser:sourceID option:nil];
    ReadySurfaceUnusual *sourceMember = [[ParseByBreakPerform unit] counterval:sourceID mediaUtilizer:nil];
    //: [self updateSourceMember:sourceMember];
    [self relationship:sourceMember];
}
//: - (YYLabel *)messageLabel {
- (YYLabel *)secure {
    //: if (!_messageLabel) {
    if (!_secure) {
        //: _messageLabel = [[YYLabel alloc] initWithFrame:CGRectMake(self.titleLabel.left, self.timeLabel.bottom, self.titleLabel.width, 20)];
        _secure = [[YYLabel alloc] initWithFrame:CGRectMake(self.bare.list, [self movement:self.layerLabel].failBottom, self.bare.take, 20)];
        //: _messageLabel.font = [UIFont systemFontOfSize:12.f];
        _secure.font = [UIFont systemFontOfSize:12.f];
//        _messageLabel.textContainerInset = UIEdgeInsetsMake(5, 5, 5, 5);
        //: _messageLabel.textColor = [UIColor colorWithHexString:@"#999999"];
        _secure.textColor = [UIColor active:StringFromOutlineData(k_elevatorSettings)];
        //: _messageLabel.textAlignment = NSTextAlignmentLeft;
        _secure.textAlignment = NSTextAlignmentLeft;
//        _messageLabel.numberOfLines = 3;
//        _messageLabel.lineBreakMode = NSLineBreakByTruncatingMiddle;
//        _messageLabel.layer.cornerRadius = 6;
//        _messageLabel.layer.borderColor = TextColor_Subtitle.CGColor;
//        _messageLabel.layer.borderWidth = 1.f/[UIScreen mainScreen].scale;
//        _messageLabel.layer.masksToBounds = YES;
    }
    //: return _messageLabel;
    return _secure;
}

//: - (UIImageView *)avatarImageView {
- (UIImageView *)count {
    //: if (!_avatarImageView) {
    if (!_count) {
        //: _avatarImageView = [[UIImageView alloc] initWithFrame:CGRectMake(15, 18, 50, 50)];
        _count = [[UIImageView alloc] initWithFrame:CGRectMake(15, 18, 50, 50)];
	[self setBound:_layerLabel];
        //: _avatarImageView.contentMode = UIViewContentModeScaleToFill;
        _count.contentMode = UIViewContentModeScaleToFill;
	[self setBound:_layerLabel];
        //: _avatarImageView.layer.cornerRadius = 25;
        _count.layer.cornerRadius = 25;
        //: _avatarImageView.layer.masksToBounds = YES;
        _count.layer.masksToBounds = YES;

//        UITapGestureRecognizer *panGesture = [[UITapGestureRecognizer alloc] initWithTarget:self action:@selector(onTouchAvatar:)];
//        [_avatarImageView addGestureRecognizer:panGesture];
    }
    //: return _avatarImageView;
    return _count;
}


@end

Byte * OutlineDataToCache(Byte *data) {
    int slide = data[0];
    int remove = data[1];
    Byte cover = data[2];
    int elevator = data[3];
    if (!slide) return data + elevator;
    for (int i = elevator; i < elevator + remove; i++) {
        int value = data[i] - cover;
        if (value < 0) {
            value += 256;
        }
        data[i] = value;
    }
    data[0] = 0;
    data[elevator + remove] = 0;
    return data + elevator;
}

NSString *StringFromOutlineData(Byte *data) {
    return [NSString stringWithUTF8String:(char *)OutlineDataToCache(data)];
}
