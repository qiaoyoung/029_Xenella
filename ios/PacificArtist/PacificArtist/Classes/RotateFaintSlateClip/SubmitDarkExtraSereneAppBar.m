
#import <Foundation/Foundation.h>

typedef struct {
    Byte unfit;
    Byte *forbidNumberroPerfect;
    unsigned int gunpowderPlot;
	int somehow;
	int scopeJuice;
} StructEnterData;

@interface EnterData : NSObject

@end

@implementation EnterData

+ (NSString *)StringFromEnterData:(StructEnterData *)data {
    return [NSString stringWithUTF8String:(char *)[self EnterDataToByte:data]];
}

//: icon_receiver_voice_playing_008
+ (NSString *)viewSlaverPath {
    /* static */ NSString *viewSlaverPath = nil;
    if (!viewSlaverPath) {
		NSArray<NSString *> *origin = @[@"31", @"21", @"25", @"24", @"41", @"4", @"19", @"21", @"19", @"31", @"0", @"19", @"4", @"41", @"0", @"25", @"31", @"21", @"19", @"41", @"6", @"26", @"23", @"15", @"31", @"24", @"17", @"41", @"70", @"70", @"78", @"39"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){118, (Byte *)data.bytes, 31, 220, 98};
        viewSlaverPath = [self StringFromEnterData:&value];
    }
    return viewSlaverPath;
}

//: icon_receiver_voice_playing_005
+ (NSString *)widgetPrecedentTimer {
    /* static */ NSString *widgetPrecedentTimer = nil;
    if (!widgetPrecedentTimer) {
		NSArray<NSString *> *origin = @[@"1", @"11", @"7", @"6", @"55", @"26", @"13", @"11", @"13", @"1", @"30", @"13", @"26", @"55", @"30", @"7", @"1", @"11", @"13", @"55", @"24", @"4", @"9", @"17", @"1", @"6", @"15", @"55", @"88", @"88", @"93", @"132"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){104, (Byte *)data.bytes, 31, 6, 18};
        widgetPrecedentTimer = [self StringFromEnterData:&value];
    }
    return widgetPrecedentTimer;
}

//: icon_receiver_voice_playing_004
+ (NSString *)themeAlleyWeaknessData {
    /* static */ NSString *themeAlleyWeaknessData = nil;
    if (!themeAlleyWeaknessData) {
		NSArray<NSString *> *origin = @[@"237", @"231", @"235", @"234", @"219", @"246", @"225", @"231", @"225", @"237", @"242", @"225", @"246", @"219", @"242", @"235", @"237", @"231", @"225", @"219", @"244", @"232", @"229", @"253", @"237", @"234", @"227", @"219", @"180", @"180", @"176", @"204"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){132, (Byte *)data.bytes, 31, 54, 115};
        themeAlleyWeaknessData = [self StringFromEnterData:&value];
    }
    return themeAlleyWeaknessData;
}

//: icon_receiver_voice_playing_006
+ (NSString *)k_lieFormat {
    /* static */ NSString *k_lieFormat = nil;
    if (!k_lieFormat) {
		NSArray<NSString *> *origin = @[@"175", @"165", @"169", @"168", @"153", @"180", @"163", @"165", @"163", @"175", @"176", @"163", @"180", @"153", @"176", @"169", @"175", @"165", @"163", @"153", @"182", @"170", @"167", @"191", @"175", @"168", @"161", @"153", @"246", @"246", @"240", @"255"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){198, (Byte *)data.bytes, 31, 202, 212};
        k_lieFormat = [self StringFromEnterData:&value];
    }
    return k_lieFormat;
}

//: icon_receiver_voice_playing_007
+ (NSString *)viewVesselValue {
    /* static */ NSString *viewVesselValue = nil;
    if (!viewVesselValue) {
		NSArray<NSString *> *origin = @[@"209", @"219", @"215", @"214", @"231", @"202", @"221", @"219", @"221", @"209", @"206", @"221", @"202", @"231", @"206", @"215", @"209", @"219", @"221", @"231", @"200", @"212", @"217", @"193", @"209", @"214", @"223", @"231", @"136", @"136", @"143", @"14"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){184, (Byte *)data.bytes, 31, 158, 224};
        viewVesselValue = [self StringFromEnterData:&value];
    }
    return viewVesselValue;
}

//: icon_receiver_voice_playing
+ (NSString *)coreStomachAlert {
    /* static */ NSString *coreStomachAlert = nil;
    if (!coreStomachAlert) {
		NSArray<NSString *> *origin = @[@"74", @"64", @"76", @"77", @"124", @"81", @"70", @"64", @"70", @"74", @"85", @"70", @"81", @"124", @"85", @"76", @"74", @"64", @"70", @"124", @"83", @"79", @"66", @"90", @"74", @"77", @"68", @"47"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){35, (Byte *)data.bytes, 27, 23, 101};
        coreStomachAlert = [self StringFromEnterData:&value];
    }
    return coreStomachAlert;
}

//: icon_voice_plus_b
+ (NSString *)colorDifferenceWipeMessage {
    /* static */ NSString *colorDifferenceWipeMessage = nil;
    if (!colorDifferenceWipeMessage) {
		NSArray<NSString *> *origin = @[@"106", @"96", @"108", @"109", @"92", @"117", @"108", @"106", @"96", @"102", @"92", @"115", @"111", @"118", @"112", @"92", @"97", @"14"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){3, (Byte *)data.bytes, 17, 38, 91};
        colorDifferenceWipeMessage = [self StringFromEnterData:&value];
    }
    return colorDifferenceWipeMessage;
}

//: icon_receiver_voice_playing_001
+ (NSString *)styleDangerousName {
    /* static */ NSString *styleDangerousName = nil;
    if (!styleDangerousName) {
		NSArray<NSString *> *origin = @[@"63", @"53", @"57", @"56", @"9", @"36", @"51", @"53", @"51", @"63", @"32", @"51", @"36", @"9", @"32", @"57", @"63", @"53", @"51", @"9", @"38", @"58", @"55", @"47", @"63", @"56", @"49", @"9", @"102", @"102", @"103", @"45"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){86, (Byte *)data.bytes, 31, 53, 87};
        styleDangerousName = [self StringFromEnterData:&value];
    }
    return styleDangerousName;
}

//: icon_receiver_voice_playing_009
+ (NSString *)k_singleName {
    /* static */ NSString *k_singleName = nil;
    if (!k_singleName) {
		NSArray<NSString *> *origin = @[@"90", @"80", @"92", @"93", @"108", @"65", @"86", @"80", @"86", @"90", @"69", @"86", @"65", @"108", @"69", @"92", @"90", @"80", @"86", @"108", @"67", @"95", @"82", @"74", @"90", @"93", @"84", @"108", @"3", @"3", @"10", @"252"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){51, (Byte *)data.bytes, 31, 38, 35};
        k_singleName = [self StringFromEnterData:&value];
    }
    return k_singleName;
}

//: icon_receiver_voice_playing_002
+ (NSString *)screenEmotionallyDevice {
    /* static */ NSString *screenEmotionallyDevice = nil;
    if (!screenEmotionallyDevice) {
		NSArray<NSString *> *origin = @[@"145", @"155", @"151", @"150", @"167", @"138", @"157", @"155", @"157", @"145", @"142", @"157", @"138", @"167", @"142", @"151", @"145", @"155", @"157", @"167", @"136", @"148", @"153", @"129", @"145", @"150", @"159", @"167", @"200", @"200", @"202", @"11"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){248, (Byte *)data.bytes, 31, 142, 153};
        screenEmotionallyDevice = [self StringFromEnterData:&value];
    }
    return screenEmotionallyDevice;
}

//: icon_receiver_voice_playing_003
+ (NSString *)screenSeeminglyPath {
    /* static */ NSString *screenSeeminglyPath = nil;
    if (!screenSeeminglyPath) {
		NSArray<NSString *> *origin = @[@"145", @"155", @"151", @"150", @"167", @"138", @"157", @"155", @"157", @"145", @"142", @"157", @"138", @"167", @"142", @"151", @"145", @"155", @"157", @"167", @"136", @"148", @"153", @"129", @"145", @"150", @"159", @"167", @"200", @"200", @"203", @"219"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){248, (Byte *)data.bytes, 31, 88, 102};
        screenSeeminglyPath = [self StringFromEnterData:&value];
    }
    return screenSeeminglyPath;
}

//: icon_voice_play_b
+ (NSString *)componentImportantError {
    /* static */ NSString *componentImportantError = nil;
    if (!componentImportantError) {
		NSArray<NSString *> *origin = @[@"171", @"161", @"173", @"172", @"157", @"180", @"173", @"171", @"161", @"167", @"157", @"178", @"174", @"163", @"187", @"157", @"160", @"1"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){194, (Byte *)data.bytes, 17, 95, 63};
        componentImportantError = [self StringFromEnterData:&value];
    }
    return componentImportantError;
}

//: icon_receiver_voice_playing_010
+ (NSString *)widgetFunApproveBootHelper {
    /* static */ NSString *widgetFunApproveBootHelper = nil;
    if (!widgetFunApproveBootHelper) {
		NSArray<NSString *> *origin = @[@"209", @"219", @"215", @"214", @"231", @"202", @"221", @"219", @"221", @"209", @"206", @"221", @"202", @"231", @"206", @"215", @"209", @"219", @"221", @"231", @"200", @"212", @"217", @"193", @"209", @"214", @"223", @"231", @"136", @"137", @"136", @"248"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){184, (Byte *)data.bytes, 31, 120, 154};
        widgetFunApproveBootHelper = [self StringFromEnterData:&value];
    }
    return widgetFunApproveBootHelper;
}

//: icon_receiver_voice_playing_w
+ (NSString *)appFoundationAlert {
    /* static */ NSString *appFoundationAlert = nil;
    if (!appFoundationAlert) {
		NSArray<NSString *> *origin = @[@"1", @"11", @"7", @"6", @"55", @"26", @"13", @"11", @"13", @"1", @"30", @"13", @"26", @"55", @"30", @"7", @"1", @"11", @"13", @"55", @"24", @"4", @"9", @"17", @"1", @"6", @"15", @"55", @"31", @"21"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){104, (Byte *)data.bytes, 29, 146, 129};
        appFoundationAlert = [self StringFromEnterData:&value];
    }
    return appFoundationAlert;
}

//: FFFKitEventNameTapAudio
+ (NSString *)coreWrapError {
    /* static */ NSString *coreWrapError = nil;
    if (!coreWrapError) {
		NSArray<NSString *> *origin = @[@"233", @"233", @"233", @"228", @"198", @"219", @"234", @"217", @"202", @"193", @"219", @"225", @"206", @"194", @"202", @"251", @"206", @"223", @"238", @"218", @"203", @"198", @"192", @"244"];
		NSData *data = [EnterData EnterDataToData:origin];
        StructEnterData value = (StructEnterData){175, (Byte *)data.bytes, 23, 247, 219};
        coreWrapError = [self StringFromEnterData:&value];
    }
    return coreWrapError;
}

+ (NSData *)EnterDataToData:(NSArray<NSString *> *)value {
    NSMutableArray<NSString *> *array = [NSMutableArray arrayWithArray:value];
    NSInteger length = array.count;
    Byte *buffer = (Byte *)malloc(length + 1);
    for (int i = 0; i < length; i++) {
        buffer[i] = [array[i] intValue];
    }
    buffer[length] = 0;
    return [NSData dataWithBytesNoCopy:buffer length:length freeWhenDone:YES];
}

+ (Byte *)EnterDataToByte:(StructEnterData *)data {
    for (int i = 0; i < data->gunpowderPlot; i++) {
        data->forbidNumberroPerfect[i] ^= data->unfit;
    }
    data->forbidNumberroPerfect[data->gunpowderPlot] = 0;
	if (data->gunpowderPlot >= 2) {
		data->somehow = data->forbidNumberroPerfect[0];
		data->scopeJuice = data->forbidNumberroPerfect[1];
	}
    return data->forbidNumberroPerfect;
}

@end   

// __DEBUG__
// __CLOSE_PRINT__
//
//  SessionAudioCententView.m
//  NIMDemo
//
//  Created by chris.
//  Copyright (c) 2015年 Netease. All rights reserved.
//

// __M_A_C_R_O__
//: #import "SubmitDarkExtraSereneAppBar.h"
#import "SubmitDarkExtraSereneAppBar.h"
//: #import "SkyRuggedizedVoiceClear.h"
#import "SkyRuggedizedVoiceClear.h"
//: #import "DecoratorPreviewCycleInsideBroker.h"
#import "DecoratorPreviewCycleInsideBroker.h"
//: #import "UIImage+StableProtectSymbolAbsoluteTransformable.h"
#import "UIImage+StableProtectSymbolAbsoluteTransformable.h"
//: #import "ExtractLockSpace.h"
#import "ExtractLockSpace.h"
//: #import "StableProtectSymbolAbsoluteTransformable.h"
#import "StableProtectSymbolAbsoluteTransformable.h"
//: #import "UIColor+StableProtectSymbolAbsoluteTransformable.h"
#import "UIColor+StableProtectSymbolAbsoluteTransformable.h"

//: @interface SubmitDarkExtraSereneAppBar()<NIMMediaManagerDelegate>
@interface SubmitDarkExtraSereneAppBar()<NIMMediaManagerDelegate>

//: @property (nonatomic,strong) UIImageView *voicePlayView;
@property (nonatomic,strong) UIImageView *raptorialBirdChoroidCoatCuttingEdge;
//: @property (nonatomic,strong) UILabel *durationLabel;
@property (nonatomic,strong) UILabel *make;

//: @property (nonatomic,strong) UIImageView *voiceImageView;
@property (nonatomic,strong) UIImageView *runningTransfer;
//: @property (nonatomic,strong) UIImageView *voiceImageViewleft;
@property (nonatomic,strong) UIImageView *outsideRetreatWorth;

//: @property (nonatomic,strong) UIImageView *voicePlayViewleft;
@property (nonatomic,strong) UIImageView *finish;

//: @end
@end

//: @implementation SubmitDarkExtraSereneAppBar
@implementation SubmitDarkExtraSereneAppBar

//: #pragma mark - NIMMediaManagerDelegate
#pragma mark - NIMMediaManagerDelegate

//: - (void)playAudio:(NSString *)filePath didBeganWithError:(NSError *)error {
- (void)playAudio:(NSString *)filePath didBeganWithError:(NSError *)error {
    //: if(filePath && !error) {
    if(filePath && !error) {
        //: if (self.isPlaying && [self.audioUIDelegate respondsToSelector:@selector(startPlayingAudioUI)]) {
        if (self.replacement && [self.audio respondsToSelector:@selector(lotAccess)]) {
            //: [self.audioUIDelegate startPlayingAudioUI];
            [self.audio lotAccess];
        }
    }
}

//: - (BOOL)isPlaying
- (BOOL)replacement
{
    //: BOOL play = [ExtractLockSpace instance].currentPlayingMessage == self.model.message; 
    BOOL play = [ExtractLockSpace profile].ring == self.fabricCheck.bottomMap; //对比是否是同一条消息，严格同一条，不能是相同ID，防止进了会话又进云端消息界面，导致同一个ID的云消息也在动画
    //: return play;
    return play;
}

//: - (void)addVoiceView{
- (void)passage{
    //: _audioBackgroundView = [[UIView alloc] initWithFrame:CGRectZero];
    _nontextualMatter = [[UIView alloc] initWithFrame:CGRectZero];
    //: _audioBackgroundView.layer.cornerRadius = 16.f;
    _nontextualMatter.layer.cornerRadius = 16.f;
    //: _audioBackgroundView.userInteractionEnabled = NO;
    _nontextualMatter.userInteractionEnabled = NO;
    //: [self addSubview:_audioBackgroundView];
    [self addSubview:_nontextualMatter];


    //: _voicePlayViewleft = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"icon_voice_play_b"]];
    _finish = [[UIImageView alloc]initWithImage:[UIImage imageNamed:[EnterData componentImportantError]]];
    //: [self addSubview:_voicePlayViewleft];
    [self addSubview:_finish];
    //: _voicePlayViewleft.hidden = YES;
    _finish.hidden = YES;
    //: _voicePlayView = [[UIImageView alloc]initWithImage:[UIImage imageNamed:@"icon_voice_play_b"]];
    _raptorialBirdChoroidCoatCuttingEdge = [[UIImageView alloc]initWithImage:[UIImage imageNamed:[EnterData componentImportantError]]];
    //: [self addSubview:_voicePlayView];
    [self addSubview:_raptorialBirdChoroidCoatCuttingEdge];
    //: _voicePlayView.hidden = YES;
    _raptorialBirdChoroidCoatCuttingEdge.hidden = YES;

    //: UIImage *image = [UIImage imageNamed:@"icon_receiver_voice_playing_w"];
    UIImage *image = [UIImage imageNamed:[EnterData appFoundationAlert]];
    //: _voiceImageView = [[UIImageView alloc] initWithImage:image];
    _runningTransfer = [[UIImageView alloc] initWithImage:image];
    //: NSArray *animateNames = @[@"icon_receiver_voice_playing_001",@"icon_receiver_voice_playing_002",@"icon_receiver_voice_playing_003",@"icon_receiver_voice_playing_004",@"icon_receiver_voice_playing_005",@"icon_receiver_voice_playing_006",@"icon_receiver_voice_playing_007",@"icon_receiver_voice_playing_008",@"icon_receiver_voice_playing_009",@"icon_receiver_voice_playing_010"];
    NSArray *animateNames = @[[EnterData styleDangerousName],[EnterData screenEmotionallyDevice],[EnterData screenSeeminglyPath],[EnterData themeAlleyWeaknessData],[EnterData widgetPrecedentTimer],[EnterData k_lieFormat],[EnterData viewVesselValue],[EnterData viewSlaverPath],[EnterData k_singleName],[EnterData widgetFunApproveBootHelper]];
    //: NSMutableArray * animationImages = [[NSMutableArray alloc] initWithCapacity:animateNames.count];
    NSMutableArray * animationImages = [[NSMutableArray alloc] initWithCapacity:animateNames.count];
    //: for (NSString * animateName in animateNames) {
    for (NSString * animateName in animateNames) {
        //: UIImage * animateImage = [UIImage imageNamed:animateName];
        UIImage * animateImage = [UIImage imageNamed:animateName];
        //: [animationImages addObject:animateImage];
        [animationImages addObject:animateImage];
    }
    //: _voiceImageView.animationImages = animationImages;
    _runningTransfer.animationImages = animationImages;
    //: _voiceImageView.animationDuration = 1.0;
    _runningTransfer.animationDuration = 1.0;
    //: [self addSubview:_voiceImageView];
    [self addSubview:_runningTransfer];
    //: _voiceImageView.hidden = YES;
    _runningTransfer.hidden = YES;

    //: _voiceImageViewleft = [[UIImageView alloc] initWithImage:[UIImage imageNamed:@"icon_receiver_voice_playing"]];
    _outsideRetreatWorth = [[UIImageView alloc] initWithImage:[UIImage imageNamed:[EnterData coreStomachAlert]]];
    //: NSArray *animateNames2 = @[@"icon_receiver_voice_playing_001",@"icon_receiver_voice_playing_002",@"icon_receiver_voice_playing_003",@"icon_receiver_voice_playing_004",@"icon_receiver_voice_playing_005",@"icon_receiver_voice_playing_006",@"icon_receiver_voice_playing_007",@"icon_receiver_voice_playing_008",@"icon_receiver_voice_playing_009",@"icon_receiver_voice_playing_010"];
    NSArray *animateNames2 = @[[EnterData styleDangerousName],[EnterData screenEmotionallyDevice],[EnterData screenSeeminglyPath],[EnterData themeAlleyWeaknessData],[EnterData widgetPrecedentTimer],[EnterData k_lieFormat],[EnterData viewVesselValue],[EnterData viewSlaverPath],[EnterData k_singleName],[EnterData widgetFunApproveBootHelper]];
    //: NSMutableArray *animationImages2 = [[NSMutableArray alloc] initWithCapacity:animateNames2.count];
    NSMutableArray *animationImages2 = [[NSMutableArray alloc] initWithCapacity:animateNames2.count];
    //: for (NSString *animateName2 in animateNames2) {
    for (NSString *animateName2 in animateNames2) {
        //: UIImage *animateImage2 = [UIImage imageNamed:animateName2];
        UIImage *animateImage2 = [UIImage imageNamed:animateName2];
        //: [animationImages2 addObject:animateImage2];
        [animationImages2 addObject:animateImage2];
    }
    //: _voiceImageViewleft.animationImages = animationImages2;
    _outsideRetreatWorth.animationImages = animationImages2;
    //: _voiceImageViewleft.animationDuration = 1.0;
    _outsideRetreatWorth.animationDuration = 1.0;
    //: [self addSubview:_voiceImageViewleft];
    [self addSubview:_outsideRetreatWorth];
    //: _voiceImageViewleft.hidden = YES;
    _outsideRetreatWorth.hidden = YES;

    //: _durationLabel = [[UILabel alloc] initWithFrame:CGRectZero];
    _make = [[UILabel alloc] initWithFrame:CGRectZero];
    //: _durationLabel.backgroundColor = [UIColor clearColor];
    _make.backgroundColor = [UIColor clearColor];
    //: [self addSubview:_durationLabel];
    [self addSubview:_make];

}

//: - (void)stopPlayAudio:(NSString *)filePath didCompletedWithError:(nullable NSError *)error
- (void)stopPlayAudio:(NSString *)filePath didCompletedWithError:(nullable NSError *)error
{
    //: [self stopPlayingUI];
    [self collectorUi];
}

//: - (void)dealloc
- (void)dealloc
{
    //: [[NSNotificationCenter defaultCenter] removeObserver:self];
    [[NSNotificationCenter defaultCenter] removeObserver:self];
    //: [[NIMSDK sharedSDK].mediaManager removeDelegate:self];
    [[NIMSDK sharedSDK].mediaManager removeDelegate:self];
}

//: - (void)refreshBackground:(DecoratorPreviewCycleInsideBroker *)data
- (void)segmentBackground:(DecoratorPreviewCycleInsideBroker *)data
{
    //: if (data.shouldShowLeft)
    if (data.borderSweet)
    {
        //: _voiceImageViewleft.hidden = NO;
        _outsideRetreatWorth.hidden = NO;
        //: _voiceImageView.hidden = YES;
        _runningTransfer.hidden = YES;
        //: _voicePlayViewleft.hidden = NO;
        _finish.hidden = NO;
        //: _voicePlayView.hidden = YES;
        _raptorialBirdChoroidCoatCuttingEdge.hidden = YES;
    }
    //: else
    else
    {
//        _voiceImageView.image = [UIImage imageNamed:@"icon_receiver_voice_playing_w"];
        //: _voiceImageViewleft.hidden = YES;
        _outsideRetreatWorth.hidden = YES;
        //: _voiceImageView.hidden = NO;
        _runningTransfer.hidden = NO;
        //: _voicePlayViewleft.hidden = YES;
        _finish.hidden = YES;
        //: _voicePlayView.hidden = NO;
        _raptorialBirdChoroidCoatCuttingEdge.hidden = NO;
    }
}

//: #pragma mark - private methods
#pragma mark - private methods
//: - (void)stopPlayingUI
- (void)collectorUi
{
    //: [self setPlaying:NO];
    [self setDecisionPlaying:NO];
}

//: -(void)onTouchUpInside:(id)sender
-(void)enables:(id)sender
{
    //: if ([self.model.message attachmentDownloadState]== NIMMessageAttachmentDownloadStateFailed
    if ([self.fabricCheck.bottomMap attachmentDownloadState]== NIMMessageAttachmentDownloadStateFailed
        //: || [self.model.message attachmentDownloadState] == NIMMessageAttachmentDownloadStateNeedDownload) {
        || [self.fabricCheck.bottomMap attachmentDownloadState] == NIMMessageAttachmentDownloadStateNeedDownload) {
        //: [[[NIMSDK sharedSDK] chatManager] fetchMessageAttachment:self.model.message
        [[[NIMSDK sharedSDK] chatManager] fetchMessageAttachment:self.fabricCheck.bottomMap
                                                           //: error:nil];
                                                           error:nil];
        //: return;
        return;
    }
    //: if ([self.model.message attachmentDownloadState] == NIMMessageAttachmentDownloadStateDownloaded) {
    if ([self.fabricCheck.bottomMap attachmentDownloadState] == NIMMessageAttachmentDownloadStateDownloaded) {

        //: if ([[NIMSDK sharedSDK].mediaManager isPlaying]) {
        if ([[NIMSDK sharedSDK].mediaManager isPlaying]) {
            //: [self stopPlayingUI];
            [self collectorUi];
        }

        //: HubCloseCompressOpen *event = [[HubCloseCompressOpen alloc] init];
        HubCloseCompressOpen *event = [[HubCloseCompressOpen alloc] init];
        //: event.eventName = @"FFFKitEventNameTapAudio";
        event.protect = [EnterData coreWrapError];
        //: event.messageModel = self.model;
        event.stableGentleInsideBroker = self.fabricCheck;
        //: [self.delegate onCatchEvent:event];
        [self.arrowOutlining roadRecord:event];

    }
}

//: - (void)playAudio:(NSString *)filePath didCompletedWithError:(NSError *)error
- (void)playAudio:(NSString *)filePath didCompletedWithError:(NSError *)error
{
    //: [self stopPlayingUI];
    [self collectorUi];
}

//: - (void)refresh:(DecoratorPreviewCycleInsideBroker *)data {
- (void)aspectStable:(DecoratorPreviewCycleInsideBroker *)data {
    //: [super refresh:data];
    [super aspectStable:data];
    //: NIMAudioObject *object = self.model.message.messageObject;
    NIMAudioObject *object = self.fabricCheck.bottomMap.messageObject;
    //: self.durationLabel.text = [NSString stringWithFormat:@"%zd\"",(NSInteger)((object.duration+500)/1000)];
    self.make.text = [NSString stringWithFormat:@"%zd\"",(NSInteger)((object.duration+500)/1000)];//四舍五入

    //: ViableConfigureAlongsideRemove *setting = [[StableProtectSymbolAbsoluteTransformable sharedKit].config setting:data.message];
    ViableConfigureAlongsideRemove *setting = [[StableProtectSymbolAbsoluteTransformable common].book commonPlanetSetting:data.bottomMap];

    //: self.durationLabel.font = setting.font;
    self.make.font = setting.allPortraitFont;
    //: self.durationLabel.textColor = setting.textColor;
    self.make.textColor = setting.tieInside;
    //: [self.durationLabel sizeToFit];
    [self.make sizeToFit];

    //: [self setPlaying:self.isPlaying];
    [self setDecisionPlaying:self.replacement];
    //: [self refreshBackground:data];
    [self segmentBackground:data];
}

//: -(instancetype)initSessionMessageContentView{
-(instancetype)initLead{
    //: self = [super initSessionMessageContentView];
    self = [super initLead];
    //: if (self) {
    if (self) {
        //: [self addVoiceView];
        [self passage];
        //: [[NIMSDK sharedSDK].mediaManager addDelegate:self];
        [[NIMSDK sharedSDK].mediaManager addDelegate:self];
    }
    //: return self;
    return self;
}

//: - (void)setPlaying:(BOOL)isPlaying
- (void)setDecisionPlaying:(BOOL)isPlaying
{
    //: if (isPlaying) {
    if (isPlaying) {
        //: [self.voiceImageView startAnimating];
        [self.runningTransfer startAnimating];
        //: [self.voiceImageViewleft startAnimating];
        [self.outsideRetreatWorth startAnimating];
        //: _voicePlayViewleft.image = [UIImage imageNamed:@"icon_voice_plus_b"];
        _finish.image = [UIImage imageNamed:[EnterData colorDifferenceWipeMessage]];
//        _voicePlayView.image = [UIImage imageNamed:@"icon_voice_plus_w"];
        //: _voicePlayView.image = [UIImage imageNamed:@"icon_voice_plus_b"];
        _raptorialBirdChoroidCoatCuttingEdge.image = [UIImage imageNamed:[EnterData colorDifferenceWipeMessage]];
    //: }else{
    }else{
        //: [self.voiceImageView stopAnimating];
        [self.runningTransfer stopAnimating];
        //: [self.voiceImageViewleft stopAnimating];
        [self.outsideRetreatWorth stopAnimating];
        //: _voicePlayViewleft.image = [UIImage imageNamed:@"icon_voice_play_b"];
        _finish.image = [UIImage imageNamed:[EnterData componentImportantError]];
//        _voicePlayView.image = [UIImage imageNamed:@"icon_voice_play_w"];
        //: _voicePlayView.image = [UIImage imageNamed:@"icon_voice_play_b"];
        _raptorialBirdChoroidCoatCuttingEdge.image = [UIImage imageNamed:[EnterData componentImportantError]];
    }
}

//: - (void)layoutSubviews{
- (void)layoutSubviews{
    //: [super layoutSubviews];
    [super layoutSubviews];
    //: UIEdgeInsets contentInsets = self.model.contentViewInsets;
    UIEdgeInsets contentInsets = self.fabricCheck.rear;
    //: switch (self.layoutStyle) {
    switch (self.since) {
        //: case VisualizePrintInteractorLayoutLeft: {
        case VisualizePrintInteractorLayoutLeft: {
//            _voiceImageView.transform = CGAffineTransformIdentity;
//            self.voiceImageView.left = contentInsets.left * 2;
            //: self.voiceImageViewleft.left = contentInsets.left * 2;
            self.outsideRetreatWorth.video = contentInsets.left * 2;
             //: _durationLabel.right = self.width - contentInsets.right * 2;
             _make.inside = self.discredit - contentInsets.right * 2;
            //: break;
            break;
        }
        //: case VisualizePrintInteractorLayoutRight: {
        case VisualizePrintInteractorLayoutRight: {
//            _voiceImageView.transform = CGAffineTransformMakeRotation(M_PI);
            //: self.voiceImageView.right = self.width - contentInsets.right * 2;
            self.runningTransfer.inside = self.discredit - contentInsets.right * 2;
            //: _durationLabel.left = contentInsets.left;
            _make.video = contentInsets.left;
            //: break;
            break;
        }
        //: case VisualizePrintInteractorLayoutAuto:
        case VisualizePrintInteractorLayoutAuto:
        //: default:
        default:
        {
            //: if (self.model.message.isOutgoingMsg) {
            if (self.fabricCheck.bottomMap.isOutgoingMsg) {
//                _voiceImageView.transform = CGAffineTransformMakeRotation(M_PI);


                //: self.voicePlayView.left = contentInsets.left;
                self.raptorialBirdChoroidCoatCuttingEdge.video = contentInsets.left;
                //: self.voiceImageView.left = self.voicePlayView.right+10;
                self.runningTransfer.video = self.raptorialBirdChoroidCoatCuttingEdge.inside+10;
                //: _durationLabel.left = self.voiceImageView.right+10;
                _make.video = self.runningTransfer.inside+10;

            //: } else {
            } else {
//                _voiceImageView.transform = CGAffineTransformIdentity;
//               self.voiceImageView.left = contentInsets.left;

                //: self.voicePlayViewleft.left = contentInsets.left;
                self.finish.video = contentInsets.left;
                //: self.voiceImageViewleft.left = self.voicePlayViewleft.right+10;
                self.outsideRetreatWorth.video = self.finish.inside+10;
                //: _durationLabel.left = self.voiceImageViewleft.right+10;
                _make.video = self.outsideRetreatWorth.inside+10;
            }
            //: break;
            break;
        }
    }
    //: _voiceImageView.width = 62;
    _runningTransfer.discredit = 62;
    //: _voiceImageView.height = 18;
    _runningTransfer.exception = 18;
    //: _voiceImageView.centerY = self.height * .5f;
    _runningTransfer.richDetail = self.exception * .5f;

    //: _voiceImageViewleft.width = 62;
    _outsideRetreatWorth.discredit = 62;
    //: _voiceImageViewleft.height = 18;
    _outsideRetreatWorth.exception = 18;
    //: _voiceImageViewleft.centerY = self.height * .5f;
    _outsideRetreatWorth.richDetail = self.exception * .5f;

    //: _voicePlayView.width = 16;
    _raptorialBirdChoroidCoatCuttingEdge.discredit = 16;
    //: _voicePlayView.height = 16;
    _raptorialBirdChoroidCoatCuttingEdge.exception = 16;
    //: _voicePlayView.centerY = self.height * .5f;
    _raptorialBirdChoroidCoatCuttingEdge.richDetail = self.exception * .5f;

    //: _voicePlayViewleft.width = 16;
    _finish.discredit = 16;
    //: _voicePlayViewleft.height = 16;
    _finish.exception = 16;
    //: _voicePlayViewleft.centerY = self.height * .5f;
    _finish.richDetail = self.exception * .5f;

    //: _durationLabel.centerY = _voiceImageView.centerY;
    _make.richDetail = _runningTransfer.richDetail;

    //: CGFloat backgroundWidth = 0;
    CGFloat backgroundWidth = 0;
    //: CGFloat backgroundLeft = 0;
    CGFloat backgroundLeft = 0;
    //: switch (self.layoutStyle) {
    switch (self.since) {
        //: case VisualizePrintInteractorLayoutLeft:
        case VisualizePrintInteractorLayoutLeft:
            {
                //: backgroundWidth = self.width - contentInsets.left * .5f - 2;
                backgroundWidth = self.discredit - contentInsets.left * .5f - 2;
                //: backgroundLeft = contentInsets.left * .5f;
                backgroundLeft = contentInsets.left * .5f;
            }
            //: break;
            break;
        //: case VisualizePrintInteractorLayoutRight:
        case VisualizePrintInteractorLayoutRight:
            {
                //: backgroundWidth = self.width - 2 - contentInsets.right * .5f;
                backgroundWidth = self.discredit - 2 - contentInsets.right * .5f;
                //: backgroundLeft = 2;
                backgroundLeft = 2;
            }
            //: break;
            break;
        //: default:
        default:
        {
            //: if (self.model.message.isOutgoingMsg) {
            if (self.fabricCheck.bottomMap.isOutgoingMsg) {
                //: backgroundWidth = self.width - 2 - contentInsets.right * .5f;
                backgroundWidth = self.discredit - 2 - contentInsets.right * .5f;
                //: backgroundLeft = 2;
                backgroundLeft = 2;
            //: } else {
            } else {
                //: backgroundWidth = self.width - contentInsets.left * .5f - 2;
                backgroundWidth = self.discredit - contentInsets.left * .5f - 2;
                //: backgroundLeft = contentInsets.left * .5f;
                backgroundLeft = contentInsets.left * .5f;
            }
            //: break;
            break;
        }
    }
    //: _audioBackgroundView.size = CGSizeMake(backgroundWidth,
    _nontextualMatter.water = CGSizeMake(backgroundWidth,
                                               //: self.height - 4);
                                               self.exception - 4);
    //: _audioBackgroundView.left = backgroundLeft;
    _nontextualMatter.video = backgroundLeft;
    //: _audioBackgroundView.top = 2;
    _nontextualMatter.forget = 2;
}


//- (NSString *)convertToTimeStringWithTimeInterval:(NSTimeInterval)timeInterval{
//    NSDate *date = [NSDate dateWithTimeIntervalSince1970:timeInterval];
//    NSDateFormatter *dateFormatter = [[NSDateFormatter alloc] init];
//    [dateFormatter setDateFormat:@"HH:mm"];
//    NSString *dateStsring = [dateFormatter stringFromDate:date];
//    return dateStsring;
//}

//: @end
@end